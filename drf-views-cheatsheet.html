<!DOCTYPE html>
<html lang="ru" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Django REST Framework Views ‚Äî –ü–æ–ª–Ω–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞</title>
  <!-- Tailwind CSS v4 via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- highlight.js (dark theme) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/tokyo-night-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
  <style>
    :root { color-scheme: dark; }
    body { background: #0b1220; color: #dbe7ff; }
    .section-card { background: #0f172a; border: 1px solid #1e293b; border-radius: 0.75rem; }
    .code-block pre { background: #0b1220 !important; margin: 0 !important; border-radius: 0.5rem; }
    .copy-btn { opacity: 0; transition: opacity 0.15s ease; }
    .code-block:hover .copy-btn { opacity: 1; }
    #toc { scrollbar-width: thin; scrollbar-color: #475569 #0b1220; }
    #toc::-webkit-scrollbar { width: 6px; }
    #toc::-webkit-scrollbar-track { background: #0b1220; border-radius: 4px; }
    #toc::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
    #toc::-webkit-scrollbar-thumb:hover { background: #475569; }
    @media (max-width: 1024px) { 
      #toc { display: none; }
      .sidebar-spacer { display: none; }
    }
    .inheritance-badge { 
      display: inline-block;
      padding: 0.25rem 0.5rem;
      border-radius: 0.375rem;
      font-size: 0.75rem;
      font-weight: 600;
      margin: 0.125rem;
    }
    .method-badge {
      display: inline-block;
      padding: 0.25rem 0.5rem;
      border-radius: 0.25rem;
      font-size: 0.7rem;
      font-weight: 600;
      margin: 0.125rem;
    }
    .get-badge { background: #10b981; color: #000; }
    .post-badge { background: #3b82f6; color: #fff; }
    .put-badge { background: #f59e0b; color: #000; }
    .patch-badge { background: #8b5cf6; color: #fff; }
    .delete-badge { background: #ef4444; color: #fff; }
  </style>
</head>
<body class="font-sans antialiased">
  <!-- Header -->
  <header class="sticky top-0 z-40 bg-[#0b1220]/90 backdrop-blur border-b border-slate-800">
    <div class="max-w-7xl mx-auto px-4 py-4">
      <div class="flex flex-col sm:flex-row items-center gap-3 justify-between">
        <div>
          <h1 class="text-2xl sm:text-3xl font-bold tracking-tight">
            <span class="bg-gradient-to-r from-sky-400 to-purple-400 bg-clip-text text-transparent">DRF Views ‚Äî –ü–æ–ª–Ω–∞—è –®–ø–∞—Ä–≥–∞–ª–∫–∞</span>
          </h1>
          <p class="text-slate-400 text-sm sm:text-base">Django REST Framework –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è: –æ—Ç APIView –¥–æ ViewSet. –° –ø—Ä–∏–º–µ—Ä–∞–º–∏, HTTP-–º–µ—Ç–æ–¥–∞–º–∏ –∏ use cases.</p>
        </div>
        <div class="flex gap-2 text-xs text-slate-400">
          <span class="px-2 py-1 rounded bg-slate-800/60 border border-slate-700">Tailwind v4</span>
          <span class="px-2 py-1 rounded bg-slate-800/60 border border-slate-700">highlight.js</span>
          <span class="px-2 py-1 rounded bg-slate-800/60 border border-slate-700">Dark UI</span>
        </div>
      </div>
    </div>
  </header>

  <div class="flex max-w-7xl mx-auto">
    <!-- Sidebar TOC -->
    <nav id="toc" class="sticky top-20 h-[calc(100vh-5rem)] overflow-y-auto w-64 px-4 py-8 border-r border-slate-800">
      <h2 class="text-lg font-bold mb-4 text-purple-400">üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</h2>
      <ul class="space-y-2 text-sm">
        <li><a href="#comparison" class="text-slate-400 hover:text-sky-400 transition">üìä –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è</a></li>
        <li><a href="#when-to-use" class="text-slate-400 hover:text-sky-400 transition">ü§î –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</a></li>
        <li class="pt-2 text-slate-500 font-semibold text-xs uppercase">–ë–∞–∑–æ–≤—ã–µ</li>
        <li><a href="#apiview" class="text-slate-400 hover:text-sky-400 transition pl-2">APIView</a></li>
        <li><a href="#genericapiview" class="text-slate-400 hover:text-sky-400 transition pl-2">GenericAPIView</a></li>
        <li class="pt-2 text-slate-500 font-semibold text-xs uppercase">–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ</li>
        <li><a href="#listapiview" class="text-slate-400 hover:text-sky-400 transition pl-2">ListAPIView</a></li>
        <li><a href="#createapiview" class="text-slate-400 hover:text-sky-400 transition pl-2">CreateAPIView</a></li>
        <li><a href="#retrieveapiview" class="text-slate-400 hover:text-sky-400 transition pl-2">RetrieveAPIView</a></li>
        <li><a href="#updateapiview" class="text-slate-400 hover:text-sky-400 transition pl-2">UpdateAPIView</a></li>
        <li><a href="#destroyapiview" class="text-slate-400 hover:text-sky-400 transition pl-2">DestroyAPIView</a></li>
        <li class="pt-2 text-slate-500 font-semibold text-xs uppercase">–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ</li>
        <li><a href="#listcreateapiview" class="text-slate-400 hover:text-sky-400 transition pl-2">ListCreateAPIView</a></li>
        <li><a href="#retrieveupdateapiview" class="text-slate-400 hover:text-sky-400 transition pl-2">RetrieveUpdateAPIView</a></li>
        <li><a href="#retrievedestroyapiview" class="text-slate-400 hover:text-sky-400 transition pl-2">RetrieveDestroyAPIView</a></li>
        <li><a href="#retrieveupdatedestroyapiview" class="text-slate-400 hover:text-sky-400 transition pl-2">RetrieveUpdateDestroyAPIView</a></li>
        <li class="pt-2 text-slate-500 font-semibold text-xs uppercase">ViewSets</li>
        <li><a href="#viewset" class="text-slate-400 hover:text-sky-400 transition pl-2">ViewSet</a></li>
        <li><a href="#modelviewset" class="text-slate-400 hover:text-sky-400 transition pl-2">ModelViewSet</a></li>
        <li class="pt-2 text-slate-500 font-semibold text-xs uppercase">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</li>
        <li><a href="#common-mistakes" class="text-slate-400 hover:text-sky-400 transition pl-2">‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏</a></li>
        <li><a href="#performance-tips" class="text-slate-400 hover:text-sky-400 transition pl-2">‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</a></li>
        <li><a href="#full-example" class="text-slate-400 hover:text-sky-400 transition pl-2">üöÄ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä API</a></li>
      </ul>
    </nav>

    <!-- Main content -->
    <main class="flex-1 px-4 py-8">
      
      <!-- Comparison Table -->
      <section id="comparison" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">üìä –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π</h2>
        <div class="overflow-x-auto">
          <table class="w-full text-left text-sm">
            <thead>
              <tr class="text-slate-300 border-b border-slate-700/60">
                <th class="py-2 pr-4">–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ</th>
                <th class="py-2 pr-4">–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</th>
                <th class="py-2 pr-4">HTTP –º–µ—Ç–æ–¥—ã</th>
                <th class="py-2">–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ</th>
              </tr>
            </thead>
            <tbody class="align-top text-slate-300">
              <tr class="border-b border-slate-800/70">
                <td class="py-3 pr-4 font-mono text-sky-400">APIView</td>
                <td class="py-3 pr-4"><span class="inheritance-badge bg-slate-700 text-slate-300">View</span></td>
                <td class="py-3 pr-4"><span class="method-badge get-badge">GET</span><span class="method-badge post-badge">POST</span><span class="method-badge put-badge">PUT</span><span class="method-badge patch-badge">PATCH</span><span class="method-badge delete-badge">DELETE</span></td>
                <td class="py-3">–ë–∞–∑–æ–≤–æ–µ API –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å</td>
              </tr>
              <tr class="border-b border-slate-800/70">
                <td class="py-3 pr-4 font-mono text-sky-400">GenericAPIView</td>
                <td class="py-3 pr-4"><span class="inheritance-badge bg-slate-700 text-slate-300">APIView</span></td>
                <td class="py-3 pr-4 text-slate-500">‚Äî</td>
                <td class="py-3">–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å queryset –∏ serializer_class</td>
              </tr>
              <tr class="border-b border-slate-800/70">
                <td class="py-3 pr-4 font-mono text-sky-400">ListAPIView</td>
                <td class="py-3 pr-4"><span class="inheritance-badge bg-slate-700 text-slate-300">GenericAPIView</span><span class="inheritance-badge bg-green-700 text-white">ListModelMixin</span></td>
                <td class="py-3 pr-4"><span class="method-badge get-badge">GET</span></td>
                <td class="py-3">–°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ (read-only)</td>
              </tr>
              <tr class="border-b border-slate-800/70">
                <td class="py-3 pr-4 font-mono text-sky-400">CreateAPIView</td>
                <td class="py-3 pr-4"><span class="inheritance-badge bg-slate-700 text-slate-300">GenericAPIView</span><span class="inheritance-badge bg-blue-700 text-white">CreateModelMixin</span></td>
                <td class="py-3 pr-4"><span class="method-badge post-badge">POST</span></td>
                <td class="py-3">–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞</td>
              </tr>
              <tr class="border-b border-slate-800/70">
                <td class="py-3 pr-4 font-mono text-sky-400">RetrieveAPIView</td>
                <td class="py-3 pr-4"><span class="inheritance-badge bg-slate-700 text-slate-300">GenericAPIView</span><span class="inheritance-badge bg-green-700 text-white">RetrieveModelMixin</span></td>
                <td class="py-3 pr-4"><span class="method-badge get-badge">GET</span></td>
                <td class="py-3">–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (read-only)</td>
              </tr>
              <tr class="border-b border-slate-800/70">
                <td class="py-3 pr-4 font-mono text-sky-400">UpdateAPIView</td>
                <td class="py-3 pr-4"><span class="inheritance-badge bg-slate-700 text-slate-300">GenericAPIView</span><span class="inheritance-badge bg-purple-700 text-white">UpdateModelMixin</span></td>
                <td class="py-3 pr-4"><span class="method-badge put-badge">PUT</span><span class="method-badge patch-badge">PATCH</span></td>
                <td class="py-3">–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞</td>
              </tr>
              <tr class="border-b border-slate-800/70">
                <td class="py-3 pr-4 font-mono text-sky-400">DestroyAPIView</td>
                <td class="py-3 pr-4"><span class="inheritance-badge bg-slate-700 text-slate-300">GenericAPIView</span><span class="inheritance-badge bg-red-700 text-white">DestroyModelMixin</span></td>
                <td class="py-3 pr-4"><span class="method-badge delete-badge">DELETE</span></td>
                <td class="py-3">–£–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞</td>
              </tr>
              <tr class="border-b border-slate-800/70">
                <td class="py-3 pr-4 font-mono text-sky-400">ListCreateAPIView</td>
                <td class="py-3 pr-4"><span class="inheritance-badge bg-slate-700 text-slate-300">GenericAPIView</span><span class="inheritance-badge bg-green-700 text-white">List</span><span class="inheritance-badge bg-blue-700 text-white">Create</span></td>
                <td class="py-3 pr-4"><span class="method-badge get-badge">GET</span><span class="method-badge post-badge">POST</span></td>
                <td class="py-3">–°–ø–∏—Å–æ–∫ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤</td>
              </tr>
              <tr class="border-b border-slate-800/70">
                <td class="py-3 pr-4 font-mono text-sky-400">RetrieveUpdateAPIView</td>
                <td class="py-3 pr-4"><span class="inheritance-badge bg-slate-700 text-slate-300">GenericAPIView</span><span class="inheritance-badge bg-green-700 text-white">Retrieve</span><span class="inheritance-badge bg-purple-700 text-white">Update</span></td>
                <td class="py-3 pr-4"><span class="method-badge get-badge">GET</span><span class="method-badge put-badge">PUT</span><span class="method-badge patch-badge">PATCH</span></td>
                <td class="py-3">–ß—Ç–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞</td>
              </tr>
              <tr class="border-b border-slate-800/70">
                <td class="py-3 pr-4 font-mono text-sky-400">RetrieveDestroyAPIView</td>
                <td class="py-3 pr-4"><span class="inheritance-badge bg-slate-700 text-slate-300">GenericAPIView</span><span class="inheritance-badge bg-green-700 text-white">Retrieve</span><span class="inheritance-badge bg-red-700 text-white">Destroy</span></td>
                <td class="py-3 pr-4"><span class="method-badge get-badge">GET</span><span class="method-badge delete-badge">DELETE</span></td>
                <td class="py-3">–ß—Ç–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞</td>
              </tr>
              <tr class="border-b border-slate-800/70">
                <td class="py-3 pr-4 font-mono text-sky-400">RetrieveUpdateDestroyAPIView</td>
                <td class="py-3 pr-4"><span class="inheritance-badge bg-slate-700 text-slate-300">GenericAPIView</span><span class="inheritance-badge bg-green-700 text-white">Retrieve</span><span class="inheritance-badge bg-purple-700 text-white">Update</span><span class="inheritance-badge bg-red-700 text-white">Destroy</span></td>
                <td class="py-3 pr-4"><span class="method-badge get-badge">GET</span><span class="method-badge put-badge">PUT</span><span class="method-badge patch-badge">PATCH</span><span class="method-badge delete-badge">DELETE</span></td>
                <td class="py-3">–ü–æ–ª–Ω—ã–π CRUD –¥–ª—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (–±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è)</td>
              </tr>
              <tr class="border-b border-slate-800/70">
                <td class="py-3 pr-4 font-mono text-sky-400">ViewSet</td>
                <td class="py-3 pr-4"><span class="inheritance-badge bg-slate-700 text-slate-300">ViewSetMixin</span><span class="inheritance-badge bg-slate-700 text-slate-300">APIView</span></td>
                <td class="py-3 pr-4 text-slate-500">‚Äî</td>
                <td class="py-3">–ë–∞–∑–æ–≤—ã–π ViewSet, –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ª–æ–≥–∏–∫—É actions</td>
              </tr>
              <tr class="border-b border-slate-800/70">
                <td class="py-3 pr-4 font-mono text-sky-400">ModelViewSet</td>
                <td class="py-3 pr-4"><span class="inheritance-badge bg-slate-700 text-slate-300">GenericViewSet</span><span class="inheritance-badge bg-green-700 text-white">All Mixins</span></td>
                <td class="py-3 pr-4"><span class="method-badge get-badge">GET</span><span class="method-badge post-badge">POST</span><span class="method-badge put-badge">PUT</span><span class="method-badge patch-badge">PATCH</span><span class="method-badge delete-badge">DELETE</span></td>
                <td class="py-3">–ü–æ–ª–Ω—ã–π CRUD API –∏–∑ –∫–æ—Ä–æ–±–∫–∏</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- When to use what -->
      <section id="when-to-use" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">ü§î –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?</h2>
        <div class="space-y-4 text-slate-300">
          <div class="bg-slate-800/50 p-4 rounded-lg border-l-4 border-sky-500">
            <h3 class="font-bold text-sky-300 mb-2">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ APIView –∫–æ–≥–¥–∞:</h3>
            <ul class="list-disc list-inside space-y-1 text-sm">
              <li>–ù—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏</li>
              <li>–†–∞–±–æ—Ç–∞–µ—Ç–µ —Å –Ω–µ-–º–æ–¥–µ–ª—å—é –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–Ω–µ—à–Ω–∏–µ API, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)</li>
              <li>–°–ª–æ–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –Ω–µ —É–∫–ª–∞–¥—ã–≤–∞—é—â–∞—è—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</li>
            </ul>
          </div>
          
          <div class="bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500">
            <h3 class="font-bold text-green-300 mb-2">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Generic Views (List, Create, etc.) –∫–æ–≥–¥–∞:</h3>
            <ul class="list-disc list-inside space-y-1 text-sm">
              <li>–†–∞–±–æ—Ç–∞–µ—Ç–µ —Å –º–æ–¥–µ–ª—è–º–∏ Django</li>
              <li>–ù—É–∂–µ–Ω —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π CRUD –±–µ–∑ –æ—Å–æ–±–æ–π –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏</li>
              <li>–•–æ—Ç–∏—Ç–µ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –∏ —Å–ª–µ–¥–æ–≤–∞—Ç—å best practices DRF</li>
            </ul>
          </div>
          
          <div class="bg-slate-800/50 p-4 rounded-lg border-l-4 border-purple-500">
            <h3 class="font-bold text-purple-300 mb-2">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ViewSet/ModelViewSet –∫–æ–≥–¥–∞:</h3>
            <ul class="list-disc list-inside space-y-1 text-sm">
              <li>–•–æ—Ç–∏—Ç–µ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (list, create, retrieve, etc.) –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ</li>
              <li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ä–æ—É—Ç–µ—Ä—ã DRF –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ URL</li>
              <li>–ù—É–∂–Ω—ã custom actions (@action –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã)</li>
              <li>–ü–æ–ª–Ω—ã–π CRUD API –¥–ª—è –º–æ–¥–µ–ª–∏</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- APIView -->
      <section id="apiview" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">APIView</h2>
        
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p class="text-slate-300 mb-2">–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö API –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –≤ DRF. –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç Django <code class="text-sky-300">View</code>. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Å–Ω–æ–≤—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤.</p>
          <p class="text-slate-400 text-sm"><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:</strong> <code>rest_framework.views.View</code></p>
          <p class="text-slate-400 text-sm"><strong>HTTP –º–µ—Ç–æ–¥—ã:</strong> GET, POST, PUT, PATCH, DELETE (—Ä–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–∞–º–∏)</p>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1">
            <li>–ù—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–∞/–æ—Ç–≤–µ—Ç–∞</li>
            <li>–†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –Ω–µ –∏–∑ –º–æ–¥–µ–ª–∏ (–≤–Ω–µ—à–Ω–∏–µ API, —Ä–∞—Å—á—ë—Ç—ã)</li>
            <li>–°–ª–æ–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞</li>
          </ul>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üì¶ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞</h3>
          <div class="code-block relative">
            <button class="copy-btn absolute top-2 right-2 px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 rounded transition" onclick="copyCode(this)">Copy</button>
            <pre><code class="language-python"># models.py
from django.db import models

class Company(models.Model):
    name = models.CharField(max_length=255)
    description = models.TextField()
    founded_year = models.IntegerField()
    is_active = models.BooleanField(default=True)
    
    class Meta:
        verbose_name_plural = "Companies"

# serializers.py
from rest_framework import serializers
from .models import Company

class CompanySerializer(serializers.ModelSerializer):
    class Meta:
        model = Company
        fields = ['id', 'name', 'description', 'founded_year', 'is_active']

# views.py
from rest_framework.views import APIView
from rest_framework.response import Response
from rest_framework import status
from .models import Company
from .serializers import CompanySerializer

class CompanyListView(APIView):
    """
    APIView –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ø–∏—Å–∫–æ–º –∫–æ–º–ø–∞–Ω–∏–π.
    –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ª–æ–≥–∏–∫–æ–π.
    """
    
    def get(self, request):
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–ø–∞–Ω–∏–π"""
        companies = Company.objects.all()
        serializer = CompanySerializer(companies, many=True)
        return Response(serializer.data)
    
    def post(self, request):
        """–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–º–ø–∞–Ω–∏—é"""
        serializer = CompanySerializer(data=request.data)
        if serializer.is_valid():
            serializer.save()
            return Response(serializer.data, status=status.HTTP_201_CREATED)
        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)

# urls.py
from django.urls import path
from .views import CompanyListView

urlpatterns = [
    path('companies/', CompanyListView.as_view(), name='company-list'),
]</code></pre>
          </div>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –º–µ—Ç–æ–¥—ã</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1 text-sm">
            <li><code class="text-sky-300">permission_classes</code> ‚Äî –∫–ª–∞—Å—Å—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞</li>
            <li><code class="text-sky-300">authentication_classes</code> ‚Äî –∫–ª–∞—Å—Å—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏</li>
            <li><code class="text-sky-300">throttle_classes</code> ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —á–∞—Å—Ç–æ—Ç–µ –∑–∞–ø—Ä–æ—Å–æ–≤</li>
            <li><code class="text-sky-300">parser_classes</code> ‚Äî –ø–∞—Ä—Å–µ—Ä—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö</li>
            <li><code class="text-sky-300">renderer_classes</code> ‚Äî —Ä–µ–Ω–¥–µ—Ä—ã –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞</li>
          </ul>
        </div>

        <div class="bg-yellow-900/20 border-l-4 border-yellow-500 p-4 rounded">
          <p class="text-yellow-300 text-sm"><strong>‚ö†Ô∏è –í–∞–∂–Ω–æ:</strong> APIView –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–µ—Ç–æ–¥–æ–≤. –í—ã –¥–æ–ª–∂–Ω—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ HTTP –º–µ—Ç–æ–¥—ã –≤—Ä—É—á–Ω—É—é.</p>
        </div>
      </section>

      <!-- GenericAPIView -->
      <section id="genericapiview" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">GenericAPIView</h2>
        
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p class="text-slate-300 mb-2">–†–∞—Å—à–∏—Ä—è–µ—Ç APIView, –¥–æ–±–∞–≤–ª—è—è –ø–æ–¥–¥–µ—Ä–∂–∫—É <code class="text-sky-300">queryset</code> –∏ <code class="text-sky-300">serializer_class</code>. –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö Generic Views. –°–∞–º –ø–æ —Å–µ–±–µ –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç HTTP –º–µ—Ç–æ–¥—ã.</p>
          <p class="text-slate-400 text-sm"><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:</strong> <code>APIView</code></p>
          <p class="text-slate-400 text-sm"><strong>HTTP –º–µ—Ç–æ–¥—ã:</strong> –ù–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å mixins)</p>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1">
            <li>–ö–∞–∫ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å mixins –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π</li>
            <li>–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å queryset –∏ serializer, –Ω–æ —Å–æ —Å–≤–æ–µ–π –ª–æ–≥–∏–∫–æ–π</li>
          </ul>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üì¶ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞</h3>
          <div class="code-block relative">
            <button class="copy-btn absolute top-2 right-2 px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 rounded transition" onclick="copyCode(this)">Copy</button>
            <pre><code class="language-python"># views.py
from rest_framework.generics import GenericAPIView
from rest_framework.response import Response
from rest_framework import status
from .models import Company
from .serializers import CompanySerializer

class CompanyGenericView(GenericAPIView):
    """
    GenericAPIView —Å —Ä—É—á–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –ª–æ–≥–∏–∫–∏.
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç queryset –∏ serializer_class.
    """
    queryset = Company.objects.all()
    serializer_class = CompanySerializer
    
    def get(self, request, *args, **kwargs):
        """–ö–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ GET"""
        # –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å self.get_queryset() –∏ self.get_serializer()
        queryset = self.get_queryset()
        active_companies = queryset.filter(is_active=True)
        serializer = self.get_serializer(active_companies, many=True)
        return Response(serializer.data)
    
    def post(self, request, *args, **kwargs):
        """–ö–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ POST —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π"""
        serializer = self.get_serializer(data=request.data)
        serializer.is_valid(raise_exception=True)
        serializer.save()
        return Response(serializer.data, status=status.HTTP_201_CREATED)

# urls.py
from django.urls import path
from .views import CompanyGenericView

urlpatterns = [
    path('companies/', CompanyGenericView.as_view(), name='company-generic'),
]</code></pre>
          </div>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1 text-sm">
            <li><code class="text-sky-300">queryset</code> ‚Äî –±–∞–∑–æ–≤—ã–π QuerySet –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏</li>
            <li><code class="text-sky-300">serializer_class</code> ‚Äî –∫–ª–∞—Å—Å —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞</li>
            <li><code class="text-sky-300">lookup_field</code> ‚Äî –ø–æ–ª–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'pk')</li>
            <li><code class="text-sky-300">lookup_url_kwarg</code> ‚Äî –∏–º—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ URL (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–≤–Ω–æ lookup_field)</li>
            <li><code class="text-sky-300">filter_backends</code> ‚Äî –±—ç–∫–µ–Ω–¥—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</li>
            <li><code class="text-sky-300">pagination_class</code> ‚Äî –∫–ª–∞—Å—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–∏</li>
          </ul>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üîß –ü–æ–ª–µ–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1 text-sm">
            <li><code class="text-sky-300">get_queryset()</code> ‚Äî –ø–æ–ª—É—á–∏—Ç—å queryset (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)</li>
            <li><code class="text-sky-300">get_object()</code> ‚Äî –ø–æ–ª—É—á–∏—Ç—å –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç –ø–æ lookup_field</li>
            <li><code class="text-sky-300">get_serializer()</code> ‚Äî –ø–æ–ª—É—á–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞</li>
            <li><code class="text-sky-300">get_serializer_class()</code> ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∫–ª–∞—Å—Å —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞</li>
            <li><code class="text-sky-300">filter_queryset()</code> ‚Äî –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∫ queryset</li>
          </ul>
        </div>
      </section>

      <!-- ListAPIView -->
      <section id="listapiview" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">ListAPIView</h2>
        
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p class="text-slate-300 mb-2">–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç read-only endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é, –ø–æ–∏—Å–∫, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∏–∑ –∫–æ—Ä–æ–±–∫–∏.</p>
          <p class="text-slate-400 text-sm"><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:</strong> <code>GenericAPIView</code> + <code>ListModelMixin</code></p>
          <p class="text-slate-400 text-sm"><strong>HTTP –º–µ—Ç–æ–¥—ã:</strong> <span class="method-badge get-badge">GET</span></p>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1">
            <li>–ù—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è</li>
            <li>–ü—É–±–ª–∏—á–Ω—ã–µ API –¥–ª—è —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö</li>
            <li>–ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–¥—ë—Ç —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π endpoint</li>
          </ul>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üì¶ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞</h3>
          <div class="code-block relative">
            <button class="copy-btn absolute top-2 right-2 px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 rounded transition" onclick="copyCode(this)">Copy</button>
            <pre><code class="language-python"># views.py
from rest_framework.generics import ListAPIView
from rest_framework.filters import SearchFilter, OrderingFilter
from django_filters.rest_framework import DjangoFilterBackend
from .models import Company
from .serializers import CompanySerializer

class CompanyListView(ListAPIView):
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–∞–Ω–∏–π.
    –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é, –ø–æ–∏—Å–∫ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É.
    """
    queryset = Company.objects.all()
    serializer_class = CompanySerializer
    filter_backends = [DjangoFilterBackend, SearchFilter, OrderingFilter]
    filterset_fields = ['is_active', 'founded_year']
    search_fields = ['name', 'description']
    ordering_fields = ['name', 'founded_year']
    ordering = ['-founded_year']  # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

# –ü—Ä–∏–º–µ—Ä —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
class ActiveCompanyListView(ListAPIView):
    """–¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏"""
    serializer_class = CompanySerializer
    
    def get_queryset(self):
        """–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º queryset –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏"""
        return Company.objects.filter(is_active=True).order_by('name')

# urls.py
from django.urls import path
from .views import CompanyListView, ActiveCompanyListView

urlpatterns = [
    path('companies/', CompanyListView.as_view(), name='company-list'),
    path('companies/active/', ActiveCompanyListView.as_view(), name='active-company-list'),
]

# –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
# GET /companies/ - –≤—Å–µ –∫–æ–º–ø–∞–Ω–∏–∏
# GET /companies/?is_active=true - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É
# GET /companies/?search=tech - –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏—é
# GET /companies/?ordering=name - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∏–º–µ–Ω–∏</code></pre>
          </div>
        </div>

        <div class="bg-green-900/20 border-l-4 border-green-500 p-4 rounded">
          <p class="text-green-300 text-sm"><strong>‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong> –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø–æ–∏—Å–∫. –ú–∏–Ω–∏–º—É–º –∫–æ–¥–∞ –¥–ª—è —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤.</p>
        </div>
      </section>

      <!-- CreateAPIView -->
      <section id="createapiview" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">CreateAPIView</h2>
        
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p class="text-slate-300 mb-2">–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç endpoint —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç POST –∑–∞–ø—Ä–æ—Å—ã.</p>
          <p class="text-slate-400 text-sm"><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:</strong> <code>GenericAPIView</code> + <code>CreateModelMixin</code></p>
          <p class="text-slate-400 text-sm"><strong>HTTP –º–µ—Ç–æ–¥—ã:</strong> <span class="method-badge post-badge">POST</span></p>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1">
            <li>–û—Ç–¥–µ–ª—å–Ω—ã–π endpoint –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
            <li>–ö–æ–≥–¥–∞ —Å–ø–∏—Å–æ–∫ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ª–æ–≥–∏—á–µ—Å–∫–∏</li>
            <li>–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏</li>
          </ul>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üì¶ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞</h3>
          <div class="code-block relative">
            <button class="copy-btn absolute top-2 right-2 px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 rounded transition" onclick="copyCode(this)">Copy</button>
            <pre><code class="language-python"># views.py
from rest_framework.generics import CreateAPIView
from rest_framework.permissions import IsAuthenticated
from .models import Company
from .serializers import CompanySerializer

class CompanyCreateView(CreateAPIView):
    """
    –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–∏.
    –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.
    """
    queryset = Company.objects.all()
    serializer_class = CompanySerializer
    permission_classes = [IsAuthenticated]
    
    def perform_create(self, serializer):
        """
        –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏.
        –ù–∞–ø—Ä–∏–º–µ—Ä, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ–∑–¥–∞—Ç–µ–ª—è.
        """
        serializer.save(created_by=self.request.user)

# –ü—Ä–∏–º–µ—Ä —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
class CompanyCreateWithValidationView(CreateAPIView):
    """–°–æ–∑–¥–∞–Ω–∏–µ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π"""
    queryset = Company.objects.all()
    serializer_class = CompanySerializer
    
    def perform_create(self, serializer):
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ
        name = serializer.validated_data.get('name')
        if Company.objects.filter(name=name).exists():
            raise ValidationError('–ö–æ–º–ø–∞–Ω–∏—è —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç')
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        serializer.save(
            is_active=True,
            created_at=timezone.now()
        )

# urls.py
from django.urls import path
from .views import CompanyCreateView

urlpatterns = [
    path('companies/create/', CompanyCreateView.as_view(), name='company-create'),
]

# –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
# POST /companies/create/
# Content-Type: application/json
# {
#     "name": "Tech Corp",
#     "description": "Technology company",
#     "founded_year": 2020,
#     "is_active": true
# }</code></pre>
          </div>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üîß –ú–µ—Ç–æ–¥—ã –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1 text-sm">
            <li><code class="text-sky-300">perform_create(serializer)</code> ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º</li>
            <li><code class="text-sky-300">create(request, *args, **kwargs)</code> ‚Äî –ø–æ–ª–Ω–æ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è</li>
          </ul>
        </div>
      </section>

      <!-- RetrieveAPIView -->
      <section id="retrieveapiview" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">RetrieveAPIView</h2>
        
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p class="text-slate-300 mb-2">–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç read-only endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –ø–æ ID –∏–ª–∏ –¥—Ä—É–≥–æ–º—É –ø–æ–ª—é.</p>
          <p class="text-slate-400 text-sm"><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:</strong> <code>GenericAPIView</code> + <code>RetrieveModelMixin</code></p>
          <p class="text-slate-400 text-sm"><strong>HTTP –º–µ—Ç–æ–¥—ã:</strong> <span class="method-badge get-badge">GET</span></p>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1">
            <li>–î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</li>
            <li>–ü—É–±–ª–∏—á–Ω—ã–µ API –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</li>
            <li>–ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –¥—Ä—É–≥–∏–µ endpoints</li>
          </ul>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üì¶ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞</h3>
          <div class="code-block relative">
            <button class="copy-btn absolute top-2 right-2 px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 rounded transition" onclick="copyCode(this)">Copy</button>
            <pre><code class="language-python"># views.py
from rest_framework.generics import RetrieveAPIView
from .models import Company
from .serializers import CompanySerializer

class CompanyDetailView(RetrieveAPIView):
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø–∞–Ω–∏–∏ –ø–æ ID.
    """
    queryset = Company.objects.all()
    serializer_class = CompanySerializer
    lookup_field = 'pk'  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å

# –ü—Ä–∏–º–µ—Ä —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º lookup –ø–æ–ª–µ–º
class CompanyByNameView(RetrieveAPIView):
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ –ø–æ –∏–º–µ–Ω–∏ (slug-like)"""
    queryset = Company.objects.all()
    serializer_class = CompanySerializer
    lookup_field = 'name'  # –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –≤–º–µ—Å—Ç–æ ID
    lookup_url_kwarg = 'company_name'  # –ò–º—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ URL

# –ü—Ä–∏–º–µ—Ä —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π queryset
class ActiveCompanyDetailView(RetrieveAPIView):
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏"""
    serializer_class = CompanySerializer
    lookup_field = 'pk'
    
    def get_queryset(self):
        """–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º queryset —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∫–æ–º–ø–∞–Ω–∏—è–º–∏"""
        return Company.objects.filter(is_active=True)

# urls.py
from django.urls import path
from .views import CompanyDetailView, CompanyByNameView

urlpatterns = [
    path('companies/<int:pk>/', CompanyDetailView.as_view(), name='company-detail'),
    path('companies/by-name/<str:company_name>/', CompanyByNameView.as_view(), name='company-by-name'),
]

# –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
# GET /companies/1/ - –∫–æ–º–ø–∞–Ω–∏—è —Å ID=1
# GET /companies/by-name/TechCorp/ - –∫–æ–º–ø–∞–Ω–∏—è –ø–æ –∏–º–µ–Ω–∏</code></pre>
          </div>
        </div>

        <div class="bg-blue-900/20 border-l-4 border-blue-500 p-4 rounded">
          <p class="text-blue-300 text-sm"><strong>üí° –°–æ–≤–µ—Ç:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>lookup_field</code> –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –ª—é–±–æ–º—É –ø–æ–ª—é –º–æ–¥–µ–ª–∏, –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ ID. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è slug, UUID, username –∏ —Ç.–¥.</p>
        </div>
      </section>

      <!-- UpdateAPIView -->
      <section id="updateapiview" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">UpdateAPIView</h2>
        
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p class="text-slate-300 mb-2">–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç endpoint —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ–µ (PUT) –∏ —á–∞—Å—Ç–∏—á–Ω–æ–µ (PATCH) –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ.</p>
          <p class="text-slate-400 text-sm"><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:</strong> <code>GenericAPIView</code> + <code>UpdateModelMixin</code></p>
          <p class="text-slate-400 text-sm"><strong>HTTP –º–µ—Ç–æ–¥—ã:</strong> <span class="method-badge put-badge">PUT</span> <span class="method-badge patch-badge">PATCH</span></p>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1">
            <li>–û—Ç–¥–µ–ª—å–Ω—ã–π endpoint –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
            <li>–ö–æ–≥–¥–∞ —á—Ç–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã</li>
            <li>–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏</li>
          </ul>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üì¶ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞</h3>
          <div class="code-block relative">
            <button class="copy-btn absolute top-2 right-2 px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 rounded transition" onclick="copyCode(this)">Copy</button>
            <pre><code class="language-python"># views.py
from rest_framework.generics import UpdateAPIView
from rest_framework.permissions import IsAuthenticated
from .models import Company
from .serializers import CompanySerializer

class CompanyUpdateView(UpdateAPIView):
    """
    –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏.
    PUT - –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª–µ–π
    PATCH - —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
    """
    queryset = Company.objects.all()
    serializer_class = CompanySerializer
    permission_classes = [IsAuthenticated]
    
    def perform_update(self, serializer):
        """
        –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.
        –ù–∞–ø—Ä–∏–º–µ—Ä, –ª–æ–≥–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è.
        """
        instance = serializer.save(updated_by=self.request.user)
        # –õ–æ–≥–∏–∫–∞ –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
        print(f"Company {instance.name} updated by {self.request.user}")

# –ü—Ä–∏–º–µ—Ä —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ø—Ä–∞–≤
class CompanyUpdateByOwnerView(UpdateAPIView):
    """–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º"""
    serializer_class = CompanySerializer
    permission_classes = [IsAuthenticated]
    
    def get_queryset(self):
        """–¢–æ–ª—å–∫–æ –∫–æ–º–ø–∞–Ω–∏–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
        return Company.objects.filter(owner=self.request.user)

# urls.py
from django.urls import path
from .views import CompanyUpdateView

urlpatterns = [
    path('companies/<int:pk>/update/', CompanyUpdateView.as_view(), name='company-update'),
]

# –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
# PUT /companies/1/update/
# Content-Type: application/json
# {
#     "name": "New Name",
#     "description": "New description",
#     "founded_year": 2021,
#     "is_active": true
# }
#
# PATCH /companies/1/update/
# Content-Type: application/json
# {
#     "name": "Updated Name"
# }</code></pre>
          </div>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üîß –ú–µ—Ç–æ–¥—ã –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1 text-sm">
            <li><code class="text-sky-300">perform_update(serializer)</code> ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º</li>
            <li><code class="text-sky-300">update(request, *args, **kwargs)</code> ‚Äî –ø–æ–ª–Ω–æ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</li>
            <li><code class="text-sky-300">partial_update(request, *args, **kwargs)</code> ‚Äî –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ PATCH</li>
          </ul>
        </div>

        <div class="bg-purple-900/20 border-l-4 border-purple-500 p-4 rounded">
          <p class="text-purple-300 text-sm"><strong>üìå –†–∞–∑–Ω–∏—Ü–∞ PUT vs PATCH:</strong> PUT —Ç—Ä–µ–±—É–µ—Ç –≤—Å–µ –ø–æ–ª—è (–ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ), PATCH –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–æ–ª—è (—á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ).</p>
        </div>
      </section>

      <!-- DestroyAPIView -->
      <section id="destroyapiview" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">DestroyAPIView</h2>
        
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p class="text-slate-300 mb-2">–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç endpoint —Ç–æ–ª—å–∫–æ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç DELETE –∑–∞–ø—Ä–æ—Å—ã.</p>
          <p class="text-slate-400 text-sm"><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:</strong> <code>GenericAPIView</code> + <code>DestroyModelMixin</code></p>
          <p class="text-slate-400 text-sm"><strong>HTTP –º–µ—Ç–æ–¥—ã:</strong> <span class="method-badge delete-badge">DELETE</span></p>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1">
            <li>–û—Ç–¥–µ–ª—å–Ω—ã–π endpoint –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
            <li>–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º</li>
            <li>–ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (soft delete) –≤–º–µ—Å—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ</li>
          </ul>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üì¶ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞</h3>
          <div class="code-block relative">
            <button class="copy-btn absolute top-2 right-2 px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 rounded transition" onclick="copyCode(this)">Copy</button>
            <pre><code class="language-python"># views.py
from rest_framework.generics import DestroyAPIView
from rest_framework.permissions import IsAdminUser
from rest_framework.response import Response
from rest_framework import status
from .models import Company
from .serializers import CompanySerializer

class CompanyDeleteView(DestroyAPIView):
    """
    –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏.
    –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º.
    """
    queryset = Company.objects.all()
    serializer_class = CompanySerializer
    permission_classes = [IsAdminUser]
    
    def perform_destroy(self, instance):
        """
        –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º.
        –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã.
        """
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ—Ç –ª–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
        if instance.employees.exists():
            raise ValidationError('–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏')
        
        # –õ–æ–≥–∏—Ä—É–µ–º —É–¥–∞–ª–µ–Ω–∏–µ
        print(f"Deleting company: {instance.name}")
        instance.delete()

# –ü—Ä–∏–º–µ—Ä —Å –º—è–≥–∫–∏–º —É–¥–∞–ª–µ–Ω–∏–µ–º (soft delete)
class CompanySoftDeleteView(DestroyAPIView):
    """–ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ - –ø–æ–º–µ—á–∞–µ–º –∫–∞–∫ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ"""
    queryset = Company.objects.all()
    serializer_class = CompanySerializer
    permission_classes = [IsAdminUser]
    
    def perform_destroy(self, instance):
        """–í–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–º–µ—á–∞–µ–º –∫–∞–∫ –Ω–µ–∞–∫—Ç–∏–≤–Ω—É—é"""
        instance.is_active = False
        instance.deleted_at = timezone.now()
        instance.save()

# urls.py
from django.urls import path
from .views import CompanyDeleteView

urlpatterns = [
    path('companies/<int:pk>/delete/', CompanyDeleteView.as_view(), name='company-delete'),
]

# –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
# DELETE /companies/1/delete/
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: 204 No Content –ø—Ä–∏ —É—Å–ø–µ—Ö–µ</code></pre>
          </div>
        </div>

        <div class="bg-red-900/20 border-l-4 border-red-500 p-4 rounded">
          <p class="text-red-300 text-sm"><strong>‚ö†Ô∏è –û—Å—Ç–æ—Ä–æ–∂–Ω–æ:</strong> –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ soft delete). –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º.</p>
        </div>
      </section>

      <!-- ListCreateAPIView -->
      <section id="listcreateapiview" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">ListCreateAPIView</h2>
        
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p class="text-slate-300 mb-2">–ö–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç ListAPIView –∏ CreateAPIView. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö.</p>
          <p class="text-slate-400 text-sm"><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:</strong> <code>GenericAPIView</code> + <code>ListModelMixin</code> + <code>CreateModelMixin</code></p>
          <p class="text-slate-400 text-sm"><strong>HTTP –º–µ—Ç–æ–¥—ã:</strong> <span class="method-badge get-badge">GET</span> <span class="method-badge post-badge">POST</span></p>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1">
            <li>–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π REST API endpoint –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏</li>
            <li>–ö–æ–≥–¥–∞ —Å–ø–∏—Å–æ–∫ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω—ã</li>
            <li>–°–∞–º–æ–µ —á–∞—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ REST API</li>
          </ul>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üì¶ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞</h3>
          <div class="code-block relative">
            <button class="copy-btn absolute top-2 right-2 px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 rounded transition" onclick="copyCode(this)">Copy</button>
            <pre><code class="language-python"># views.py
from rest_framework.generics import ListCreateAPIView
from rest_framework.permissions import IsAuthenticatedOrReadOnly
from rest_framework.filters import SearchFilter, OrderingFilter
from django_filters.rest_framework import DjangoFilterBackend
from .models import Company
from .serializers import CompanySerializer

class CompanyListCreateView(ListCreateAPIView):
    """
    GET - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–ø–∞–Ω–∏–π (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, –ø–æ–∏—Å–∫–æ–º, –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
    POST - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–∏
    
    –ß—Ç–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º, —Å–æ–∑–¥–∞–Ω–∏–µ - —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º.
    """
    queryset = Company.objects.all()
    serializer_class = CompanySerializer
    permission_classes = [IsAuthenticatedOrReadOnly]
    filter_backends = [DjangoFilterBackend, SearchFilter, OrderingFilter]
    filterset_fields = ['is_active', 'founded_year']
    search_fields = ['name', 'description']
    ordering_fields = ['name', 'founded_year']
    
    def perform_create(self, serializer):
        """–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ–∑–¥–∞—Ç–µ–ª—è"""
        serializer.save(owner=self.request.user)

# –ü—Ä–∏–º–µ—Ä —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞–º–∏ –¥–ª—è GET –∏ POST
class CompanyListCreateWithDifferentSerializersView(ListCreateAPIView):
    """–†–∞–∑–Ω—ã–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏"""
    queryset = Company.objects.all()
    permission_classes = [IsAuthenticatedOrReadOnly]
    
    def get_serializer_class(self):
        """–í—ã–±–∏—Ä–∞–µ–º —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–µ—Ç–æ–¥–∞"""
        if self.request.method == 'POST':
            return CompanyCreateSerializer  # –ú–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –±–æ–ª—å—à–µ –ø–æ–ª–µ–π
        return CompanyListSerializer  # –ú–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –º–µ–Ω—å—à–µ –ø–æ–ª–µ–π

# urls.py
from django.urls import path
from .views import CompanyListCreateView

urlpatterns = [
    path('companies/', CompanyListCreateView.as_view(), name='company-list-create'),
]

# –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
# GET /companies/ - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫
# GET /companies/?search=tech&is_active=true - —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
# POST /companies/ - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–º–ø–∞–Ω–∏—é
# {
#     "name": "New Company",
#     "description": "Description",
#     "founded_year": 2023
# }</code></pre>
          </div>
        </div>

        <div class="bg-green-900/20 border-l-4 border-green-500 p-4 rounded">
          <p class="text-green-300 text-sm"><strong>‚úÖ Best Practice:</strong> –≠—Ç–æ —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è REST API –∫–æ–ª–ª–µ–∫—Ü–∏–π. –û–¥–∏–Ω URL –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏—è - —Å—Ç–∞–Ω–¥–∞—Ä—Ç REST.</p>
        </div>
      </section>

      <!-- RetrieveUpdateAPIView -->
      <section id="retrieveupdateapiview" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">RetrieveUpdateAPIView</h2>
        
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p class="text-slate-300 mb-2">–ö–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç RetrieveAPIView –∏ UpdateAPIView. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.</p>
          <p class="text-slate-400 text-sm"><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:</strong> <code>GenericAPIView</code> + <code>RetrieveModelMixin</code> + <code>UpdateModelMixin</code></p>
          <p class="text-slate-400 text-sm"><strong>HTTP –º–µ—Ç–æ–¥—ã:</strong> <span class="method-badge get-badge">GET</span> <span class="method-badge put-badge">PUT</span> <span class="method-badge patch-badge">PATCH</span></p>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1">
            <li>–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —á–∏—Ç–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –æ–±—ä–µ–∫—Ç –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è</li>
            <li>–ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</li>
            <li>–ö–æ–≥–¥–∞ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –∏–ª–∏ –∏–¥—ë—Ç —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π endpoint</li>
          </ul>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üì¶ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞</h3>
          <div class="code-block relative">
            <button class="copy-btn absolute top-2 right-2 px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 rounded transition" onclick="copyCode(this)">Copy</button>
            <pre><code class="language-python"># views.py
from rest_framework.generics import RetrieveUpdateAPIView
from rest_framework.permissions import IsAuthenticated
from .models import Company
from .serializers import CompanySerializer

class CompanyRetrieveUpdateView(RetrieveUpdateAPIView):
    """
    GET - –ø–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–æ–º–ø–∞–Ω–∏–∏
    PUT/PATCH - –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é
    –ë–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–¥–∞–ª–µ–Ω–∏—è.
    """
    queryset = Company.objects.all()
    serializer_class = CompanySerializer
    permission_classes = [IsAuthenticated]
    
    def perform_update(self, serializer):
        """–õ–æ–≥–∏—Ä—É–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è"""
        serializer.save(
            updated_by=self.request.user,
            updated_at=timezone.now()
        )

# –ü—Ä–∏–º–µ—Ä —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤–ª–∞–¥–µ–ª—å—Ü–∞
class CompanyRetrieveUpdateByOwnerView(RetrieveUpdateAPIView):
    """–î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü—É –∫–æ–º–ø–∞–Ω–∏–∏"""
    serializer_class = CompanySerializer
    permission_classes = [IsAuthenticated]
    
    def get_queryset(self):
        """–§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –≤–ª–∞–¥–µ–ª—å—Ü—É"""
        return Company.objects.filter(owner=self.request.user)
    
    def get_object(self):
        """–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤"""
        obj = super().get_object()
        if obj.owner != self.request.user:
            raise PermissionDenied('–í—ã –Ω–µ –≤–ª–∞–¥–µ–ª–µ—Ü —ç—Ç–æ–π –∫–æ–º–ø–∞–Ω–∏–∏')
        return obj

# urls.py
from django.urls import path
from .views import CompanyRetrieveUpdateView

urlpatterns = [
    path('companies/<int:pk>/', CompanyRetrieveUpdateView.as_view(), name='company-detail-update'),
]

# –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
# GET /companies/1/ - –ø–æ–ª—É—á–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é
# PUT /companies/1/ - –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
# PATCH /companies/1/ - —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
# {
#     "name": "Updated Name"
# }</code></pre>
          </div>
        </div>
      </section>

      <!-- RetrieveDestroyAPIView -->
      <section id="retrievedestroyapiview" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">RetrieveDestroyAPIView</h2>
        
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p class="text-slate-300 mb-2">–ö–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç RetrieveAPIView –∏ DestroyAPIView. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.</p>
          <p class="text-slate-400 text-sm"><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:</strong> <code>GenericAPIView</code> + <code>RetrieveModelMixin</code> + <code>DestroyModelMixin</code></p>
          <p class="text-slate-400 text-sm"><strong>HTTP –º–µ—Ç–æ–¥—ã:</strong> <span class="method-badge get-badge">GET</span> <span class="method-badge delete-badge">DELETE</span></p>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1">
            <li>–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —á–∏—Ç–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å, –Ω–æ –Ω–µ –æ–±–Ω–æ–≤–ª—è—Ç—å</li>
            <li>–í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, –∫–µ—à, —Å–µ—Å—Å–∏–∏</li>
            <li>–†–µ–¥–∫–∏–π use case, –Ω–æ –±—ã–≤–∞–µ—Ç –ø–æ–ª–µ–∑–µ–Ω</li>
          </ul>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üì¶ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞</h3>
          <div class="code-block relative">
            <button class="copy-btn absolute top-2 right-2 px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 rounded transition" onclick="copyCode(this)">Copy</button>
            <pre><code class="language-python"># views.py
from rest_framework.generics import RetrieveDestroyAPIView
from rest_framework.permissions import IsAdminUser
from .models import Company
from .serializers import CompanySerializer

class CompanyRetrieveDestroyView(RetrieveDestroyAPIView):
    """
    GET - –ø–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–æ–º–ø–∞–Ω–∏–∏
    DELETE - —É–¥–∞–ª–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é
    –ë–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
    """
    queryset = Company.objects.all()
    serializer_class = CompanySerializer
    permission_classes = [IsAdminUser]
    
    def perform_destroy(self, instance):
        """–õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º"""
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è
        if instance.employees.count() > 0:
            raise ValidationError('–ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏')
        
        instance.delete()

# urls.py
from django.urls import path
from .views import CompanyRetrieveDestroyView

urlpatterns = [
    path('companies/<int:pk>/view-delete/', CompanyRetrieveDestroyView.as_view(), name='company-view-delete'),
]

# –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
# GET /companies/1/view-delete/ - –ø–æ–ª—É—á–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é
# DELETE /companies/1/view-delete/ - —É–¥–∞–ª–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é</code></pre>
          </div>
        </div>
      </section>

      <!-- RetrieveUpdateDestroyAPIView -->
      <section id="retrieveupdatedestroyapiview" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">RetrieveUpdateDestroyAPIView</h2>
        
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p class="text-slate-300 mb-2">–ö–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç Retrieve, Update –∏ Destroy. –ü–æ–ª–Ω—ã–π CRUD –¥–ª—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (–∫—Ä–æ–º–µ —Å–æ–∑–¥–∞–Ω–∏—è). –°–∞–º—ã–π –º–æ—â–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º.</p>
          <p class="text-slate-400 text-sm"><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:</strong> <code>GenericAPIView</code> + <code>RetrieveModelMixin</code> + <code>UpdateModelMixin</code> + <code>DestroyModelMixin</code></p>
          <p class="text-slate-400 text-sm"><strong>HTTP –º–µ—Ç–æ–¥—ã:</strong> <span class="method-badge get-badge">GET</span> <span class="method-badge put-badge">PUT</span> <span class="method-badge patch-badge">PATCH</span> <span class="method-badge delete-badge">DELETE</span></p>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1">
            <li>–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π REST API endpoint –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞</li>
            <li>–ù—É–∂–Ω—ã –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫—Ä–æ–º–µ —Å–æ–∑–¥–∞–Ω–∏—è (—Å–æ–∑–¥–∞–Ω–∏–µ –≤ –¥—Ä—É–≥–æ–º endpoint)</li>
            <li>–°–∞–º–æ–µ —á–∞—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è detail views</li>
          </ul>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üì¶ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞</h3>
          <div class="code-block relative">
            <button class="copy-btn absolute top-2 right-2 px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 rounded transition" onclick="copyCode(this)">Copy</button>
            <pre><code class="language-python"># views.py
from rest_framework.generics import RetrieveUpdateDestroyAPIView
from rest_framework.permissions import IsAuthenticatedOrReadOnly
from .models import Company
from .serializers import CompanySerializer, CompanyDetailSerializer

class CompanyDetailView(RetrieveUpdateDestroyAPIView):
    """
    GET - –ø–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–æ–º–ø–∞–Ω–∏–∏ (–≤—Å–µ–º)
    PUT/PATCH - –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü—É)
    DELETE - —É–¥–∞–ª–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—É)
    
    –ü–æ–ª–Ω—ã–π CRUD –¥–ª—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.
    """
    queryset = Company.objects.all()
    serializer_class = CompanyDetailSerializer
    
    def get_permissions(self):
        """–†–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤"""
        if self.request.method == 'GET':
            return [AllowAny()]
        elif self.request.method in ['PUT', 'PATCH']:
            return [IsAuthenticated(), IsOwnerOrAdmin()]
        elif self.request.method == 'DELETE':
            return [IsAdminUser()]
        return super().get_permissions()
    
    def perform_update(self, serializer):
        """–õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è"""
        serializer.save(
            updated_by=self.request.user,
            updated_at=timezone.now()
        )
    
    def perform_destroy(self, instance):
        """–ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ"""
        instance.is_active = False
        instance.deleted_at = timezone.now()
        instance.deleted_by = self.request.user
        instance.save()

# –ü—Ä–∏–º–µ—Ä —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞
class CompanyAdvancedDetailView(RetrieveUpdateDestroyAPIView):
    """–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø—Ä–∏–º–µ—Ä —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞–º–∏"""
    queryset = Company.objects.select_related('owner').prefetch_related('employees')
    
    def get_serializer_class(self):
        """–í—ã–±–∏—Ä–∞–µ–º —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –ø–æ –º–µ—Ç–æ–¥—É"""
        if self.request.method == 'GET':
            return CompanyDetailSerializer  # –ë–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
        return CompanyUpdateSerializer  # –¢–æ–ª—å–∫–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–µ –ø–æ–ª—è
    
    def get_queryset(self):
        """–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º queryset"""
        queryset = super().get_queryset()
        if self.request.method == 'GET':
            # –î–ª—è GET –∑–∞–≥—Ä—É–∂–∞–µ–º —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
            return queryset.select_related('owner', 'industry')
        return queryset

# urls.py
from django.urls import path
from .views import CompanyDetailView

urlpatterns = [
    path('companies/<int:pk>/', CompanyDetailView.as_view(), name='company-detail'),
]

# –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
# GET /companies/1/ - –ø–æ–ª—É—á–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é
# PUT /companies/1/ - –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
# PATCH /companies/1/ - —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
# DELETE /companies/1/ - —É–¥–∞–ª–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é</code></pre>
          </div>
        </div>

        <div class="bg-green-900/20 border-l-4 border-green-500 p-4 rounded">
          <p class="text-green-300 text-sm"><strong>‚úÖ Best Practice:</strong> –ö–æ–º–±–∏–Ω–∞—Ü–∏—è ListCreateAPIView + RetrieveUpdateDestroyAPIView –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π REST API: /companies/ –∏ /companies/{id}/</p>
        </div>
      </section>

      <!-- ViewSet -->
      <section id="viewset" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">ViewSet</h2>
        
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p class="text-slate-300 mb-2">–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è ViewSets. –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ –æ–¥–∏–Ω –∫–ª–∞—Å—Å. –í–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ HTTP –∏—Å–ø–æ–ª—å–∑—É–µ—Ç actions (list, create, retrieve, update, destroy).</p>
          <p class="text-slate-400 text-sm"><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:</strong> <code>ViewSetMixin</code> + <code>APIView</code></p>
          <p class="text-slate-400 text-sm"><strong>HTTP –º–µ—Ç–æ–¥—ã:</strong> –û–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ actions</p>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1">
            <li>–ö–æ–≥–¥–∞ —Ö–æ—Ç–∏—Ç–µ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ</li>
            <li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ä–æ—É—Ç–µ—Ä—ã DRF –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ URL</li>
            <li>–ù—É–∂–Ω—ã custom actions (@action –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã)</li>
          </ul>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üì¶ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞</h3>
          <div class="code-block relative">
            <button class="copy-btn absolute top-2 right-2 px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 rounded transition" onclick="copyCode(this)">Copy</button>
            <pre><code class="language-python"># views.py
from rest_framework import viewsets
from rest_framework.decorators import action
from rest_framework.response import Response
from .models import Company
from .serializers import CompanySerializer

class CompanyViewSet(viewsets.ViewSet):
    """
    ViewSet –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π.
    –†–µ–∞–ª–∏–∑—É–π—Ç–µ actions –≤—Ä—É—á–Ω—É—é.
    """
    
    def list(self, request):
        """GET /companies/"""
        companies = Company.objects.all()
        serializer = CompanySerializer(companies, many=True)
        return Response(serializer.data)
    
    def create(self, request):
        """POST /companies/"""
        serializer = CompanySerializer(data=request.data)
        serializer.is_valid(raise_exception=True)
        serializer.save()
        return Response(serializer.data, status=status.HTTP_201_CREATED)
    
    def retrieve(self, request, pk=None):
        """GET /companies/{pk}/"""
        try:
            company = Company.objects.get(pk=pk)
        except Company.DoesNotExist:
            return Response(status=status.HTTP_404_NOT_FOUND)
        serializer = CompanySerializer(company)
        return Response(serializer.data)
    
    def update(self, request, pk=None):
        """PUT /companies/{pk}/"""
        try:
            company = Company.objects.get(pk=pk)
        except Company.DoesNotExist:
            return Response(status=status.HTTP_404_NOT_FOUND)
        serializer = CompanySerializer(company, data=request.data)
        serializer.is_valid(raise_exception=True)
        serializer.save()
        return Response(serializer.data)
    
    def partial_update(self, request, pk=None):
        """PATCH /companies/{pk}/"""
        try:
            company = Company.objects.get(pk=pk)
        except Company.DoesNotExist:
            return Response(status=status.HTTP_404_NOT_FOUND)
        serializer = CompanySerializer(company, data=request.data, partial=True)
        serializer.is_valid(raise_exception=True)
        serializer.save()
        return Response(serializer.data)
    
    def destroy(self, request, pk=None):
        """DELETE /companies/{pk}/"""
        try:
            company = Company.objects.get(pk=pk)
        except Company.DoesNotExist:
            return Response(status=status.HTTP_404_NOT_FOUND)
        company.delete()
        return Response(status=status.HTTP_204_NO_CONTENT)
    
    @action(detail=False, methods=['get'])
    def active(self, request):
        """
        –ö–∞—Å—Ç–æ–º–Ω—ã–π action: GET /companies/active/
        detail=False - –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
        """
        companies = Company.objects.filter(is_active=True)
        serializer = CompanySerializer(companies, many=True)
        return Response(serializer.data)
    
    @action(detail=True, methods=['post'])
    def activate(self, request, pk=None):
        """
        –ö–∞—Å—Ç–æ–º–Ω—ã–π action: POST /companies/{pk}/activate/
        detail=True - –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –æ–¥–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É
        """
        company = self.get_object()
        company.is_active = True
        company.save()
        return Response({'status': 'company activated'})

# urls.py
from django.urls import path, include
from rest_framework.routers import DefaultRouter
from .views import CompanyViewSet

router = DefaultRouter()
router.register(r'companies', CompanyViewSet, basename='company')

urlpatterns = [
    path('', include(router.urls)),
]

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è URL:
# GET /companies/ - list
# POST /companies/ - create
# GET /companies/{pk}/ - retrieve
# PUT /companies/{pk}/ - update
# PATCH /companies/{pk}/ - partial_update
# DELETE /companies/{pk}/ - destroy
# GET /companies/active/ - custom action
# POST /companies/{pk}/activate/ - custom action</code></pre>
          </div>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üéØ Custom Actions</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1 text-sm">
            <li><code class="text-sky-300">@action(detail=False)</code> ‚Äî action –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (/companies/action/)</li>
            <li><code class="text-sky-300">@action(detail=True)</code> ‚Äî action –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ (/companies/{pk}/action/)</li>
            <li><code class="text-sky-300">methods=['get', 'post']</code> ‚Äî –∫–∞–∫–∏–µ HTTP –º–µ—Ç–æ–¥—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç action</li>
          </ul>
        </div>
      </section>

      <!-- ModelViewSet -->
      <section id="modelviewset" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-sky-400">ModelViewSet</h2>
        
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p class="text-slate-300 mb-2">–°–∞–º—ã–π –º–æ—â–Ω—ã–π –∫–ª–∞—Å—Å DRF. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π CRUD API –∏–∑ –∫–æ—Ä–æ–±–∫–∏: list, create, retrieve, update, partial_update, destroy. –û–¥–∏–Ω –∫–ª–∞—Å—Å –∑–∞–º–µ–Ω—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ Generic Views.</p>
          <p class="text-slate-400 text-sm"><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:</strong> <code>GenericViewSet</code> + –≤—Å–µ mixins (Create, List, Retrieve, Update, Destroy)</p>
          <p class="text-slate-400 text-sm"><strong>HTTP –º–µ—Ç–æ–¥—ã:</strong> <span class="method-badge get-badge">GET</span> <span class="method-badge post-badge">POST</span> <span class="method-badge put-badge">PUT</span> <span class="method-badge patch-badge">PATCH</span> <span class="method-badge delete-badge">DELETE</span></p>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1">
            <li>–ù—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π CRUD API –¥–ª—è –º–æ–¥–µ–ª–∏</li>
            <li>–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–µ–∑ –æ—Å–æ–±–æ–π –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏</li>
            <li>–•–æ—Ç–∏—Ç–µ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</li>
            <li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ä–æ—É—Ç–µ—Ä—ã DRF</li>
          </ul>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">üì¶ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞</h3>
          <div class="code-block relative">
            <button class="copy-btn absolute top-2 right-2 px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 rounded transition" onclick="copyCode(this)">Copy</button>
            <pre><code class="language-python"># views.py
from rest_framework import viewsets
from rest_framework.decorators import action
from rest_framework.response import Response
from rest_framework.permissions import IsAuthenticatedOrReadOnly
from rest_framework.filters import SearchFilter, OrderingFilter
from django_filters.rest_framework import DjangoFilterBackend
from .models import Company
from .serializers import CompanySerializer, CompanyDetailSerializer

class CompanyModelViewSet(viewsets.ModelViewSet):
    """
    –ü–æ–ª–Ω—ã–π CRUD API –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π.
    
    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
    - GET /companies/ (list)
    - POST /companies/ (create)
    - GET /companies/{pk}/ (retrieve)
    - PUT /companies/{pk}/ (update)
    - PATCH /companies/{pk}/ (partial_update)
    - DELETE /companies/{pk}/ (destroy)
    """
    queryset = Company.objects.all()
    serializer_class = CompanySerializer
    permission_classes = [IsAuthenticatedOrReadOnly]
    filter_backends = [DjangoFilterBackend, SearchFilter, OrderingFilter]
    filterset_fields = ['is_active', 'founded_year']
    search_fields = ['name', 'description']
    ordering_fields = ['name', 'founded_year']
    
    def get_queryset(self):
        """–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º queryset"""
        queryset = Company.objects.all()
        
        # –î–ª—è —Å–ø–∏—Å–∫–∞ –∏ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
        if self.action in ['list', 'retrieve']:
            queryset = queryset.select_related('owner')
        
        return queryset
    
    def get_serializer_class(self):
        """–†–∞–∑–Ω—ã–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö actions"""
        if self.action == 'retrieve':
            return CompanyDetailSerializer  # –ë–æ–ª—å—à–µ –ø–æ–ª–µ–π
        return CompanySerializer
    
    def perform_create(self, serializer):
        """–õ–æ–≥–∏–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏"""
        serializer.save(
            owner=self.request.user,
            created_at=timezone.now()
        )
    
    def perform_update(self, serializer):
        """–õ–æ–≥–∏–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏"""
        serializer.save(
            updated_by=self.request.user,
            updated_at=timezone.now()
        )
    
    def perform_destroy(self, instance):
        """–ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ"""
        instance.is_active = False
        instance.deleted_at = timezone.now()
        instance.save()
    
    @action(detail=False, methods=['get'])
    def active(self, request):
        """
        –ö–∞—Å—Ç–æ–º–Ω—ã–π endpoint: GET /companies/active/
        –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏
        """
        companies = self.get_queryset().filter(is_active=True)
        serializer = self.get_serializer(companies, many=True)
        return Response(serializer.data)
    
    @action(detail=True, methods=['post'])
    def activate(self, request, pk=None):
        """
        –ö–∞—Å—Ç–æ–º–Ω—ã–π endpoint: POST /companies/{pk}/activate/
        –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–∞–Ω–∏—é
        """
        company = self.get_object()
        company.is_active = True
        company.save()
        serializer = self.get_serializer(company)
        return Response(serializer.data)
    
    @action(detail=True, methods=['post'])
    def deactivate(self, request, pk=None):
        """POST /companies/{pk}/deactivate/"""
        company = self.get_object()
        company.is_active = False
        company.save()
        return Response({'status': 'company deactivated'})
    
    @action(detail=True, methods=['get'])
    def stats(self, request, pk=None):
        """
        GET /companies/{pk}/stats/
        –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–º–ø–∞–Ω–∏–∏
        """
        company = self.get_object()
        return Response({
            'employees_count': company.employees.count(),
            'active_projects': company.projects.filter(is_active=True).count(),
            'revenue': company.calculate_revenue(),
        })

# urls.py
from django.urls import path, include
from rest_framework.routers import DefaultRouter
from .views import CompanyModelViewSet

router = DefaultRouter()
router.register(r'companies', CompanyModelViewSet, basename='company')

urlpatterns = [
    path('api/', include(router.urls)),
]

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è URL:
# GET    /api/companies/           - —Å–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π
# POST   /api/companies/           - —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–∞–Ω–∏—é
# GET    /api/companies/{pk}/      - –¥–µ—Ç–∞–ª–∏ –∫–æ–º–ø–∞–Ω–∏–∏
# PUT    /api/companies/{pk}/      - –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
# PATCH  /api/companies/{pk}/      - —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
# DELETE /api/companies/{pk}/      - —É–¥–∞–ª–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é
# GET    /api/companies/active/    - –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏
# POST   /api/companies/{pk}/activate/ - –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
# POST   /api/companies/{pk}/deactivate/ - –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
# GET    /api/companies/{pk}/stats/ - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</code></pre>
          </div>
        </div>

        <div class="mb-4">
          <h3 class="text-lg font-semibold text-slate-200 mb-2">‚öôÔ∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ actions</h3>
          <ul class="list-disc list-inside text-slate-300 space-y-1 text-sm">
            <li><code class="text-sky-300">list(request)</code> ‚Äî GET /companies/</li>
            <li><code class="text-sky-300">create(request)</code> ‚Äî POST /companies/</li>
            <li><code class="text-sky-300">retrieve(request, pk)</code> ‚Äî GET /companies/{pk}/</li>
            <li><code class="text-sky-300">update(request, pk)</code> ‚Äî PUT /companies/{pk}/</li>
            <li><code class="text-sky-300">partial_update(request, pk)</code> ‚Äî PATCH /companies/{pk}/</li>
            <li><code class="text-sky-300">destroy(request, pk)</code> ‚Äî DELETE /companies/{pk}/</li>
          </ul>
        </div>

        <div class="bg-purple-900/20 border-l-4 border-purple-500 p-4 rounded">
          <p class="text-purple-300 text-sm"><strong>üöÄ Best Practice:</strong> ModelViewSet ‚Äî —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è REST API. –û–¥–∏–Ω –∫–ª–∞—Å—Å –∑–∞–º–µ–Ω—è–µ—Ç ListCreateAPIView + RetrieveUpdateDestroyAPIView.</p>
        </div>
      </section>

      <!-- Common Mistakes -->
      <section id="common-mistakes" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-red-400">‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏</h2>
        
        <div class="space-y-4">
          <div class="bg-red-900/10 border-l-4 border-red-500 p-4 rounded">
            <h3 class="font-bold text-red-300 mb-2">1. –ó–∞–±—ã–≤–∞—é—Ç —É–∫–∞–∑–∞—Ç—å queryset –∏–ª–∏ get_queryset()</h3>
            <div class="code-block relative mt-2">
              <pre><code class="language-python"># ‚ùå –ü–ª–æ—Ö–æ
class CompanyListView(ListAPIView):
    serializer_class = CompanySerializer
    # –ó–∞–±—ã–ª–∏ queryset!

# ‚úÖ –•–æ—Ä–æ—à–æ
class CompanyListView(ListAPIView):
    queryset = Company.objects.all()
    serializer_class = CompanySerializer</code></pre>
            </div>
          </div>

          <div class="bg-red-900/10 border-l-4 border-red-500 p-4 rounded">
            <h3 class="font-bold text-red-300 mb-2">2. N+1 –ø—Ä–æ–±–ª–µ–º–∞ –±–µ–∑ select_related/prefetch_related</h3>
            <div class="code-block relative mt-2">
              <pre><code class="language-python"># ‚ùå –ü–ª–æ—Ö–æ - N+1 –∑–∞–ø—Ä–æ—Å—ã
class CompanyViewSet(ModelViewSet):
    queryset = Company.objects.all()
    serializer_class = CompanySerializer

# ‚úÖ –•–æ—Ä–æ—à–æ - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
class CompanyViewSet(ModelViewSet):
    queryset = Company.objects.select_related('owner').prefetch_related('employees')
    serializer_class = CompanySerializer</code></pre>
            </div>
          </div>

          <div class="bg-red-900/10 border-l-4 border-red-500 p-4 rounded">
            <h3 class="font-bold text-red-300 mb-2">3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ permission_classes</h3>
            <div class="code-block relative mt-2">
              <pre><code class="language-python"># ‚ùå –ü–ª–æ—Ö–æ - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø—Ä–∞–≤–∞ –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤
class CompanyViewSet(ModelViewSet):
    permission_classes = [IsAuthenticated]  # –î–∞–∂–µ GET —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏!

# ‚úÖ –•–æ—Ä–æ—à–æ
class CompanyViewSet(ModelViewSet):
    permission_classes = [IsAuthenticatedOrReadOnly]  # GET –¥–ª—è –≤—Å–µ—Ö, –æ—Å—Ç–∞–ª—å–Ω–æ–µ - –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º</code></pre>
            </div>
          </div>

          <div class="bg-red-900/10 border-l-4 border-red-500 p-4 rounded">
            <h3 class="font-bold text-red-300 mb-2">4. –ù–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç perform_create/perform_update</h3>
            <div class="code-block relative mt-2">
              <pre><code class="language-python"># ‚ùå –ü–ª–æ—Ö–æ - –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –≤–µ—Å—å create()
class CompanyCreateView(CreateAPIView):
    def create(self, request, *args, **kwargs):
        serializer = self.get_serializer(data=request.data)
        serializer.is_valid(raise_exception=True)
        serializer.save(owner=request.user)  # –î—É–±–ª–∏—Ä—É–µ–º –∫–æ–¥ DRF
        return Response(serializer.data)

# ‚úÖ –•–æ—Ä–æ—à–æ - –∏—Å–ø–æ–ª—å–∑—É—é—Ç perform_create
class CompanyCreateView(CreateAPIView):
    def perform_create(self, serializer):
        serializer.save(owner=self.request.user)</code></pre>
            </div>
          </div>

          <div class="bg-red-900/10 border-l-4 border-red-500 p-4 rounded">
            <h3 class="font-bold text-red-300 mb-2">5. –ñ—ë—Å—Ç–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ soft delete</h3>
            <div class="code-block relative mt-2">
              <pre><code class="language-python"># ‚ùå –ü–ª–æ—Ö–æ - –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
class CompanyViewSet(ModelViewSet):
    queryset = Company.objects.all()
    # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–¥–∞–ª—è–µ—Ç –Ω–∞–≤—Å–µ–≥–¥–∞

# ‚úÖ –•–æ—Ä–æ—à–æ - –º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
class CompanyViewSet(ModelViewSet):
    def perform_destroy(self, instance):
        instance.is_active = False
        instance.deleted_at = timezone.now()
        instance.save()</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Performance Tips -->
      <section id="performance-tips" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-yellow-400">‚ö° –°–æ–≤–µ—Ç—ã –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h2>
        
        <div class="space-y-4 text-slate-300">
          <div class="bg-yellow-900/10 border-l-4 border-yellow-500 p-4 rounded">
            <h3 class="font-bold text-yellow-300 mb-2">1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ select_related –∏ prefetch_related</h3>
            <div class="code-block relative mt-2">
              <pre><code class="language-python">class CompanyViewSet(ModelViewSet):
    def get_queryset(self):
        queryset = Company.objects.all()
        
        if self.action == 'list':
            # –î–ª—è —Å–ø–∏—Å–∫–∞ - —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è
            queryset = queryset.select_related('owner')
        elif self.action == 'retrieve':
            # –î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ - –≤—Å–µ —Å–≤—è–∑–∏
            queryset = queryset.select_related('owner', 'industry').prefetch_related('employees', 'projects')
        
        return queryset</code></pre>
            </div>
          </div>

          <div class="bg-yellow-900/10 border-l-4 border-yellow-500 p-4 rounded">
            <h3 class="font-bold text-yellow-300 mb-2">2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é</h3>
            <div class="code-block relative mt-2">
              <pre><code class="language-python"># settings.py
REST_FRAMEWORK = {
    'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination',
    'PAGE_SIZE': 20
}

# –ò–ª–∏ –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏
from rest_framework.pagination import PageNumberPagination

class StandardPagination(PageNumberPagination):
    page_size = 20
    page_size_query_param = 'page_size'
    max_page_size = 100

class CompanyViewSet(ModelViewSet):
    pagination_class = StandardPagination</code></pre>
            </div>
          </div>

          <div class="bg-yellow-900/10 border-l-4 border-yellow-500 p-4 rounded">
            <h3 class="font-bold text-yellow-300 mb-2">3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
            <div class="code-block relative mt-2">
              <pre><code class="language-python">from django.utils.decorators import method_decorator
from django.views.decorators.cache import cache_page

class CompanyViewSet(ModelViewSet):
    
    @method_decorator(cache_page(60 * 15))  # 15 –º–∏–Ω—É—Ç
    def list(self, request, *args, **kwargs):
        return super().list(request, *args, **kwargs)</code></pre>
            </div>
          </div>

          <div class="bg-yellow-900/10 border-l-4 border-yellow-500 p-4 rounded">
            <h3 class="font-bold text-yellow-300 mb-2">4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è –≤ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞—Ö</h3>
            <div class="code-block relative mt-2">
              <pre><code class="language-python"># –†–∞–∑–Ω—ã–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
class CompanyListSerializer(serializers.ModelSerializer):
    class Meta:
        model = Company
        fields = ['id', 'name', 'is_active']  # –ú–∏–Ω–∏–º—É–º –ø–æ–ª–µ–π

class CompanyDetailSerializer(serializers.ModelSerializer):
    class Meta:
        model = Company
        fields = '__all__'  # –í—Å–µ –ø–æ–ª—è

class CompanyViewSet(ModelViewSet):
    def get_serializer_class(self):
        if self.action == 'list':
            return CompanyListSerializer
        return CompanyDetailSerializer</code></pre>
            </div>
          </div>

          <div class="bg-yellow-900/10 border-l-4 border-yellow-500 p-4 rounded">
            <h3 class="font-bold text-yellow-300 mb-2">5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∏ –ø–æ–∏—Å–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ</h3>
            <div class="code-block relative mt-2">
              <pre><code class="language-python"># –ò–Ω–¥–µ–∫—Å—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–ª–µ–π –ø–æ–∏—Å–∫–∞
class Company(models.Model):
    name = models.CharField(max_length=255, db_index=True)
    is_active = models.BooleanField(default=True, db_index=True)

# –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø–æ–ª—è –¥–ª—è –ø–æ–∏—Å–∫–∞
class CompanyViewSet(ModelViewSet):
    filter_backends = [SearchFilter, OrderingFilter]
    search_fields = ['name']  # –¢–æ–ª—å–∫–æ –ø–æ –∏–º–µ–Ω–∏, –Ω–µ –ø–æ –≤—Å–µ–º –ø–æ–ª—è–º
    ordering_fields = ['name', 'created_at']</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Full Example -->
      <section id="full-example" class="section-card p-6 mb-8">
        <h2 class="text-2xl font-bold mb-4 text-purple-400">üöÄ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä REST API</h2>
        
        <p class="text-slate-300 mb-4">–ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏—è–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π.</p>
        
        <div class="code-block relative">
          <button class="copy-btn absolute top-2 right-2 px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 rounded transition" onclick="copyCode(this)">Copy</button>
          <pre><code class="language-python"># models.py
from django.db import models
from django.contrib.auth.models import User

class Company(models.Model):
    name = models.CharField(max_length=255, db_index=True)
    description = models.TextField()
    founded_year = models.IntegerField()
    is_active = models.BooleanField(default=True, db_index=True)
    owner = models.ForeignKey(User, on_delete=models.CASCADE, related_name='companies')
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        verbose_name_plural = "Companies"
        ordering = ['-created_at']
    
    def __str__(self):
        return self.name

class Employee(models.Model):
    company = models.ForeignKey(Company, on_delete=models.CASCADE, related_name='employees')
    name = models.CharField(max_length=255)
    position = models.CharField(max_length=100)
    email = models.EmailField()
    hire_date = models.DateField()
    
    def __str__(self):
        return f"{self.name} - {self.company.name}"


# serializers.py
from rest_framework import serializers
from .models import Company, Employee

class EmployeeSerializer(serializers.ModelSerializer):
    class Meta:
        model = Employee
        fields = ['id', 'name', 'position', 'email', 'hire_date']

class CompanyListSerializer(serializers.ModelSerializer):
    employees_count = serializers.IntegerField(read_only=True)
    
    class Meta:
        model = Company
        fields = ['id', 'name', 'founded_year', 'is_active', 'employees_count']

class CompanyDetailSerializer(serializers.ModelSerializer):
    owner_username = serializers.CharField(source='owner.username', read_only=True)
    employees = EmployeeSerializer(many=True, read_only=True)
    
    class Meta:
        model = Company
        fields = ['id', 'name', 'description', 'founded_year', 'is_active', 
                  'owner_username', 'employees', 'created_at', 'updated_at']

class CompanyCreateUpdateSerializer(serializers.ModelSerializer):
    class Meta:
        model = Company
        fields = ['name', 'description', 'founded_year', 'is_active']


# views.py
from rest_framework import viewsets, status
from rest_framework.decorators import action
from rest_framework.response import Response
from rest_framework.permissions import IsAuthenticatedOrReadOnly, IsAuthenticated
from rest_framework.filters import SearchFilter, OrderingFilter
from django_filters.rest_framework import DjangoFilterBackend
from django.db.models import Count
from .models import Company, Employee
from .serializers import (
    CompanyListSerializer, 
    CompanyDetailSerializer, 
    CompanyCreateUpdateSerializer,
    EmployeeSerializer
)

class CompanyViewSet(viewsets.ModelViewSet):
    """
    –ü–æ–ª–Ω—ã–π CRUD API –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π.
    
    list: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–ø–∞–Ω–∏–π (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, –ø–æ–∏—Å–∫–æ–º)
    create: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–º–ø–∞–Ω–∏—é
    retrieve: –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–æ–º–ø–∞–Ω–∏–∏
    update: –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
    partial_update: –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
    destroy: –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
    """
    permission_classes = [IsAuthenticatedOrReadOnly]
    filter_backends = [DjangoFilterBackend, SearchFilter, OrderingFilter]
    filterset_fields = ['is_active', 'founded_year']
    search_fields = ['name', 'description']
    ordering_fields = ['name', 'founded_year', 'created_at']
    
    def get_queryset(self):
        """–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π queryset –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç action"""
        queryset = Company.objects.select_related('owner')
        
        if self.action == 'list':
            # –î–ª—è —Å–ø–∏—Å–∫–∞ –¥–æ–±–∞–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
            queryset = queryset.annotate(employees_count=Count('employees'))
        elif self.action == 'retrieve':
            # –î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
            queryset = queryset.prefetch_related('employees')
        
        return queryset
    
    def get_serializer_class(self):
        """–í—ã–±–∏—Ä–∞–µ–º —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç action"""
        if self.action == 'list':
            return CompanyListSerializer
        elif self.action == 'retrieve':
            return CompanyDetailSerializer
        return CompanyCreateUpdateSerializer
    
    def perform_create(self, serializer):
        """–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏"""
        serializer.save(owner=self.request.user)
    
    def perform_destroy(self, instance):
        """–ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ"""
        instance.is_active = False
        instance.save()
    
    @action(detail=False, methods=['get'])
    def active(self, request):
        """
        GET /companies/active/
        –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏
        """
        companies = self.get_queryset().filter(is_active=True)
        page = self.paginate_queryset(companies)
        if page is not None:
            serializer = self.get_serializer(page, many=True)
            return self.get_paginated_response(serializer.data)
        serializer = self.get_serializer(companies, many=True)
        return Response(serializer.data)
    
    @action(detail=True, methods=['post'])
    def activate(self, request, pk=None):
        """
        POST /companies/{pk}/activate/
        –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–∞–Ω–∏—é
        """
        company = self.get_object()
        company.is_active = True
        company.save()
        serializer = self.get_serializer(company)
        return Response(serializer.data)
    
    @action(detail=True, methods=['get'])
    def employees(self, request, pk=None):
        """
        GET /companies/{pk}/employees/
        –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏
        """
        company = self.get_object()
        employees = company.employees.all()
        serializer = EmployeeSerializer(employees, many=True)
        return Response(serializer.data)
    
    @action(detail=False, methods=['get'])
    def statistics(self, request):
        """
        GET /companies/statistics/
        –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–º–ø–∞–Ω–∏—è–º
        """
        total = Company.objects.count()
        active = Company.objects.filter(is_active=True).count()
        inactive = total - active
        
        return Response({
            'total_companies': total,
            'active_companies': active,
            'inactive_companies': inactive,
            'average_employees': Company.objects.annotate(
                emp_count=Count('employees')
            ).aggregate(avg=models.Avg('emp_count'))['avg']
        })


# urls.py
from django.urls import path, include
from rest_framework.routers import DefaultRouter
from .views import CompanyViewSet

router = DefaultRouter()
router.register(r'companies', CompanyViewSet, basename='company')

urlpatterns = [
    path('api/', include(router.urls)),
]


# settings.py (—Ñ—Ä–∞–≥–º–µ–Ω—Ç)
REST_FRAMEWORK = {
    'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination',
    'PAGE_SIZE': 20,
    'DEFAULT_FILTER_BACKENDS': [
        'django_filters.rest_framework.DjangoFilterBackend',
    ],
    'DEFAULT_AUTHENTICATION_CLASSES': [
        'rest_framework.authentication.SessionAuthentication',
        'rest_framework.authentication.TokenAuthentication',
    ],
    'DEFAULT_PERMISSION_CLASSES': [
        'rest_framework.permissions.IsAuthenticatedOrReadOnly',
    ],
}


# –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API:

# 1. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π
# GET /api/companies/
# GET /api/companies/?page=2
# GET /api/companies/?search=tech
# GET /api/companies/?is_active=true
# GET /api/companies/?ordering=-created_at

# 2. –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–∞–Ω–∏—é
# POST /api/companies/
# {
#     "name": "TechCorp",
#     "description": "Technology company",
#     "founded_year": 2020,
#     "is_active": true
# }

# 3. –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–æ–º–ø–∞–Ω–∏–∏
# GET /api/companies/1/

# 4. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é
# PUT /api/companies/1/
# PATCH /api/companies/1/
# {
#     "name": "TechCorp Updated"
# }

# 5. –£–¥–∞–ª–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é (–º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ)
# DELETE /api/companies/1/

# 6. –ö–∞—Å—Ç–æ–º–Ω—ã–µ endpoints
# GET /api/companies/active/
# POST /api/companies/1/activate/
# GET /api/companies/1/employees/
# GET /api/companies/statistics/</code></pre>
        </div>
      </section>

      <!-- Footer -->
      <footer class="mt-12 pt-6 border-t border-slate-800 text-center text-slate-400 text-sm">
        <p class="mb-2">üéì DRF Views Cheat Sheet ‚Äî –ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º Django REST Framework</p>
        <p>–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. Tailwind CSS v4 + highlight.js</p>
        <p class="mt-2">
          <a href="https://www.django-rest-framework.org/" target="_blank" class="text-sky-400 hover:text-sky-300">üìö –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è DRF</a>
        </p>
      </footer>
    </main>
    
    <div class="sidebar-spacer w-64"></div>
  </div>

  <script>
    // Initialize highlight.js
    hljs.highlightAll();
    
    // Copy code functionality
    function copyCode(button) {
      const codeBlock = button.parentElement.querySelector('code');
      const text = codeBlock.textContent;
      
      navigator.clipboard.writeText(text).then(() => {
        button.textContent = 'Copied!';
        button.classList.add('bg-green-600');
        setTimeout(() => {
          button.textContent = 'Copy';
          button.classList.remove('bg-green-600');
        }, 2000);
      });
    }
    
    // Smooth scroll for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });
  </script>
</body>
</html>
