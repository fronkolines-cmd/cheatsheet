<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PyDantic - –®–ø–∞—Ä–≥–∞–ª–∫–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/tokyo-night-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
    <style>
        body {
            background-color: #0f172a;
            color: #e2e8f0;
        }
        .copy-btn {
            opacity: 0;
            transition: opacity 0.2s;
        }
        .code-block:hover .copy-btn {
            opacity: 1;
        }
        
        #toc {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
        }
        
        #toc::-webkit-scrollbar {
            width: 6px;
        }
        
        #toc::-webkit-scrollbar-track {
            background: #1e293b;
            border-radius: 3px;
        }
        
        #toc::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 3px;
        }
        
        #toc::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }
        
        @media (max-width: 1024px) {
            #toc {
                display: none;
            }
        }
    </style>
</head>
<body class="min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <header class="mb-12 text-center">
            <h1 class="text-5xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">
                PyDantic –®–ø–∞—Ä–≥–∞–ª–∫–∞
            </h1>
            <p class="text-xl text-gray-400">–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Python</p>
        </header>

        <section id="quick-reference" class="mb-12 bg-slate-800 rounded-lg p-6 shadow-xl">
            <h2 class="text-3xl font-bold mb-6 text-blue-400">üìã –ë—ã—Å—Ç—Ä—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫</h2>
            <div class="overflow-x-auto">
                <table class="w-full text-left">
                    <thead>
                        <tr class="border-b border-gray-700">
                            <th class="py-3 px-4 text-blue-300">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                            <th class="py-3 px-4 text-blue-300">–†–∞–∑–¥–µ–ª—ã</th>
                        </tr>
                    </thead>
                    <tbody class="text-gray-300">
                        <tr class="border-b border-gray-700/50">
                            <td class="py-3 px-4 font-semibold">–û—Å–Ω–æ–≤—ã (1-10)</td>
                            <td class="py-3 px-4">–£—Å—Ç–∞–Ω–æ–≤–∫–∞, —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö, –º–æ–¥–µ–ª–∏, Field, –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</td>
                        </tr>
                        <tr class="border-b border-gray-700/50">
                            <td class="py-3 px-4 font-semibold">–í–∞–ª–∏–¥–∞—Ü–∏—è (11-14)</td>
                            <td class="py-3 px-4">field_validator, model_validator, —Ä–µ–∂–∏–º—ã before/after, ValidationInfo</td>
                        </tr>
                        <tr class="border-b border-gray-700/50">
                            <td class="py-3 px-4 font-semibold">–î–∞–Ω–Ω—ã–µ (15-27)</td>
                            <td class="py-3 px-4">–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è, alias, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, enum, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, UUID</td>
                        </tr>
                        <tr>
                            <td class="py-3 px-4 font-semibold">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ (28-32)</td>
                            <td class="py-3 px-4">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø—ã, JSON Schema</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <div class="flex gap-8">
            <nav id="toc" class="bg-slate-800 rounded-lg p-4 shadow-xl sticky top-4 self-start" style="width: 280px; max-height: calc(100vh - 2rem); overflow-y: auto;">
                <h2 class="text-xl font-bold mb-4 text-purple-400">üìö –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ</h2>
                <div class="space-y-4 text-sm">
                    <div>
                        <h3 class="font-semibold text-blue-300 mb-2">–û—Å–Ω–æ–≤—ã</h3>
                        <ul class="space-y-1">
                            <li><a href="#section-1" class="text-gray-400 hover:text-blue-400 transition">1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞</a></li>
                            <li><a href="#section-2" class="text-gray-400 hover:text-blue-400 transition">2. –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã</a></li>
                            <li><a href="#section-3" class="text-gray-400 hover:text-blue-400 transition">3. –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π</a></li>
                            <li><a href="#section-4" class="text-gray-400 hover:text-blue-400 transition">4. Field</a></li>
                            <li><a href="#section-5" class="text-gray-400 hover:text-blue-400 transition">5. –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</a></li>
                            <li><a href="#section-6" class="text-gray-400 hover:text-blue-400 transition">6. Computed Fields</a></li>
                            <li><a href="#section-7" class="text-gray-400 hover:text-blue-400 transition">7. Private Attributes</a></li>
                            <li><a href="#section-8" class="text-gray-400 hover:text-blue-400 transition">8. Config –æ–ø—Ü–∏–∏</a></li>
                            <li><a href="#section-9" class="text-gray-400 hover:text-blue-400 transition">9. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</a></li>
                            <li><a href="#section-10" class="text-gray-400 hover:text-blue-400 transition">10. –ü–∞—Ä—Å–∏–Ω–≥ —Ç–∏–ø–æ–≤</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold text-green-300 mb-2">–í–∞–ª–∏–¥–∞—Ü–∏—è</h3>
                        <ul class="space-y-1">
                            <li><a href="#section-11" class="text-gray-400 hover:text-green-400 transition">11. field_validator</a></li>
                            <li><a href="#section-12" class="text-gray-400 hover:text-green-400 transition">12. model_validator</a></li>
                            <li><a href="#section-13" class="text-gray-400 hover:text-green-400 transition">13. –†–µ–∂–∏–º—ã mode</a></li>
                            <li><a href="#section-14" class="text-gray-400 hover:text-green-400 transition">14. ValidationInfo</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold text-yellow-300 mb-2">–†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏</h3>
                        <ul class="space-y-1">
                            <li><a href="#section-15" class="text-gray-400 hover:text-yellow-400 transition">15. –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è</a></li>
                            <li><a href="#section-16" class="text-gray-400 hover:text-yellow-400 transition">16. Alias</a></li>
                            <li><a href="#section-17" class="text-gray-400 hover:text-yellow-400 transition">17. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</a></li>
                            <li><a href="#section-18" class="text-gray-400 hover:text-yellow-400 transition">18. Enum</a></li>
                            <li><a href="#section-19" class="text-gray-400 hover:text-yellow-400 transition">19. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è</a></li>
                            <li><a href="#section-20" class="text-gray-400 hover:text-yellow-400 transition">20. –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</a></li>
                            <li><a href="#section-21" class="text-gray-400 hover:text-yellow-400 transition">21. –í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏</a></li>
                            <li><a href="#section-22" class="text-gray-400 hover:text-yellow-400 transition">22. UUID –∏ —Ç–∏–ø—ã</a></li>
                            <li><a href="#section-23" class="text-gray-400 hover:text-yellow-400 transition">23. –î–∞—Ç—ã –∏ –≤—Ä–µ–º—è</a></li>
                            <li><a href="#section-24" class="text-gray-400 hover:text-yellow-400 transition">24. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ—à–∏–±–∫–∏</a></li>
                            <li><a href="#section-25" class="text-gray-400 hover:text-yellow-400 transition">25. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ë–î</a></li>
                            <li><a href="#section-26" class="text-gray-400 hover:text-yellow-400 transition">26. –£—Å–ª–æ–≤–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è</a></li>
                            <li><a href="#section-27" class="text-gray-400 hover:text-yellow-400 transition">27. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold text-purple-300 mb-2">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ</h3>
                        <ul class="space-y-1">
                            <li><a href="#section-28" class="text-gray-400 hover:text-purple-400 transition">28. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</a></li>
                            <li><a href="#section-29" class="text-gray-400 hover:text-purple-400 transition">29. –ö–æ–Ω—Ç–µ–∫—Å—Ç</a></li>
                            <li><a href="#section-30" class="text-gray-400 hover:text-purple-400 transition">30. –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø—ã</a></li>
                            <li><a href="#section-31" class="text-gray-400 hover:text-purple-400 transition">31. JSON Schema</a></li>
                            <li><a href="#section-32" class="text-gray-400 hover:text-purple-400 transition">32. None –∑–Ω–∞—á–µ–Ω–∏—è</a></li>
                        </ul>
                    </div>
                </div>
            </nav>

            <main class="flex-1 space-y-8">
            <section id="section-1" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-blue-400">1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏–º–ø–æ—Ä—Ç</h2>
                <p class="text-gray-300 mb-4">
                    Pydantic - —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π —Ç–∏–ø–æ–≤ Python. 
                    –û–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç runtime –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python"># –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PyDantic
pip install pydantic

# –ë–∞–∑–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç
from pydantic import BaseModel, Field, ValidationError

# –ò–º–ø–æ—Ä—Ç —Ç–∏–ø–æ–≤
from pydantic import EmailStr, HttpUrl, UUID4

# –ò–º–ø–æ—Ä—Ç –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤
from pydantic import field_validator, model_validator</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö API</li>
                        <li>–ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤</li>
                        <li>–†–∞–±–æ—Ç–∞ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API –∏ –∏—Ö –æ—Ç–≤–µ—Ç–∞–º–∏</li>
                        <li>–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —É—á–∞—Å—Ç–∫–∞—Ö –∫–æ–¥–∞</li>
                    </ul>
                </div>
            </section>

            <section id="section-2" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-blue-400">2. –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö</h2>
                <p class="text-gray-300 mb-4">
                    Pydantic –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–∏–ø—ã Python –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Ç–∏–ø—ã.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel
from datetime import datetime, date
from typing import List, Dict

class DataTypes(BaseModel):
    # –ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã
    name: str
    age: int
    height: float
    is_active: bool
    
    # –ö–æ–ª–ª–µ–∫—Ü–∏–∏
    tags: List[str]
    metadata: Dict[str, any]
    
    # –î–∞—Ç—ã –∏ –≤—Ä–µ–º—è
    birth_date: date
    created_at: datetime
    
# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
data = DataTypes(
    name="–ò–≤–∞–Ω",
    age="25",  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ int
    height=1.75,
    is_active="true",  # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ bool
    tags=["python", "pydantic"],
    metadata={"role": "developer"},
    birth_date="1998-05-15",
    created_at="2024-01-15T10:30:00"
)

print(f"–í–æ–∑—Ä–∞—Å—Ç: {data.age}, —Ç–∏–ø: {type(data.age)}")  # int</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –∏–∑ JSON –∏–ª–∏ —Ñ–æ—Ä–º</li>
                        <li>–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤</li>
                        <li>–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–∂–∏–¥–∞–µ–º–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö</li>
                    </ul>
                </div>
            </section>

            <section id="section-3" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-blue-400">3. –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π</h2>
                <p class="text-gray-300 mb-4">
                    –ú–æ–¥–µ–ª–∏ –≤ Pydantic —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—É—Ç–µ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –æ—Ç BaseModel. –ö–∞–∂–¥–æ–µ –ø–æ–ª–µ –º–æ–¥–µ–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–∞.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel

class User(BaseModel):
    id: int
    name: str
    email: str
    age: int

# –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∏–∑ —Å–ª–æ–≤–∞—Ä—è
user_data = {
    "id": 1,
    "name": "–ê–ª–µ–∫—Å–µ–π",
    "email": "alex@example.com",
    "age": 30
}
user = User(**user_data)

# –°–æ–∑–¥–∞–Ω–∏–µ —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
user2 = User(
    id=2,
    name="–ú–∞—Ä–∏—è",
    email="maria@example.com",
    age=28
)

# –î–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º
print(user.name)  # –ê–ª–µ–∫—Å–µ–π
print(user.model_dump())  # –°–ª–æ–≤–∞—Ä—å –≤—Å–µ—Ö –ø–æ–ª–µ–π

# –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
try:
    invalid_user = User(id="not_a_number", name="Test")
except ValidationError as e:
    print(e.errors())</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è API endpoints</li>
                        <li>–°–æ–∑–¥–∞–Ω–∏–µ DTO (Data Transfer Objects)</li>
                        <li>–ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–µ–π</li>
                        <li>–ó–∞–º–µ–Ω–∞ dataclasses —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π</li>
                    </ul>
                </div>
            </section>

            <section id="section-4" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-blue-400">4. –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—è–º–∏ —á–µ—Ä–µ–∑ Field</h2>
                <p class="text-gray-300 mb-4">
                    Field –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫ –ø–æ–ª—è–º –º–æ–¥–µ–ª–∏.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, Field

class Product(BaseModel):
    id: int = Field(
        description="–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–¥—É–∫—Ç–∞",
        examples=[1, 2, 3]
    )
    name: str = Field(
        min_length=1,
        max_length=100,
        description="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞"
    )
    price: float = Field(
        gt=0,  # greater than (–±–æ–ª—å—à–µ —á–µ–º)
        le=1000000,  # less than or equal (–º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ)
        description="–¶–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö"
    )
    quantity: int = Field(
        ge=0,  # greater than or equal (–±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ)
        description="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ"
    )
    rating: float = Field(
        ge=0.0,
        le=5.0,
        description="–†–µ–π—Ç–∏–Ω–≥ –æ—Ç 0 –¥–æ 5"
    )

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
product = Product(
    id=1,
    name="–ù–æ—É—Ç–±—É–∫",
    price=75000.50,
    quantity=10,
    rating=4.5
)

# –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç
try:
    invalid = Product(
        id=2,
        name="",  # –û—à–∏–±–∫–∞: min_length=1
        price=-100,  # –û—à–∏–±–∫–∞: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å > 0
        quantity=-5,  # –û—à–∏–±–∫–∞: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 0
        rating=6.0  # –û—à–∏–±–∫–∞: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å <= 5.0
    )
except ValidationError as e:
    print(e)</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª –≤–∞–ª–∏–¥–∞—Ü–∏–∏</li>
                        <li>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–π</li>
                        <li>–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π –¥–ª—è API —Å—Ö–µ–º—ã</li>
                        <li>–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω—ã —Å—Ç—Ä–æ–∫ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–æ–ª–ª–µ–∫—Ü–∏–π</li>
                    </ul>
                </div>
            </section>

            <section id="section-5" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-blue-400">5. –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è</h2>
                <p class="text-gray-300 mb-4">
                    Pydantic –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, Field
from typing import Optional, List
from datetime import datetime

class Article(BaseModel):
    # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
    title: str
    
    # –ü—Ä–æ—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    views: int = 0
    
    # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ (–º–æ–∂–µ—Ç –±—ã—Ç—å None)
    subtitle: Optional[str] = None
    
    # Default factory –¥–ª—è –∏–∑–º–µ–Ω—è–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
    tags: List[str] = Field(default_factory=list)
    
    # Callable –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    created_at: datetime = Field(default_factory=datetime.now)
    
    # Field —Å default
    status: str = Field(default="draft")
    
    # Optional —Å default
    author: Optional[str] = Field(default="–ê–Ω–æ–Ω–∏–º")

# –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
article1 = Article(title="Python Tips")
print(article1.views)  # 0
print(article1.tags)  # []
print(article1.author)  # –ê–Ω–æ–Ω–∏–º

# –ü–æ–ª–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
article2 = Article(
    title="Advanced Pydantic",
    subtitle="Deep Dive",
    views=100,
    tags=["python", "tutorial"],
    status="published",
    author="–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
)

# –í–∞–∂–Ω–æ: –∫–∞–∂–¥—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–æ–π —Å–ø–∏—Å–æ–∫
article3 = Article(title="Test")
article3.tags.append("test")
article4 = Article(title="Test2")
print(len(article4.tags))  # 0 (–Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç)</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>Optional - –¥–ª—è –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å</li>
                        <li>default_factory - –¥–ª—è —Å–ø–∏—Å–∫–æ–≤, —Å–ª–æ–≤–∞—Ä–µ–π –∏ –¥—Ä—É–≥–∏—Ö –∏–∑–º–µ–Ω—è–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
                        <li>Field(default=...) - –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</li>
                        <li>Callable defaults - –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π (timestamp, UUID)</li>
                    </ul>
                </div>
            </section>

            <section id="section-6" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-blue-400">6. Computed Fields (–≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è)</h2>
                <p class="text-gray-300 mb-4">
                    Computed fields –ø–æ–∑–≤–æ–ª—è—é—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∫ –º–æ–¥–µ–ª—è–º, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤–∫–ª—é—á–µ–Ω—ã –≤ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, computed_field

class Rectangle(BaseModel):
    width: float
    height: float
    
    @computed_field
    @property
    def area(self) -> float:
        return self.width * self.height
    
    @computed_field
    @property
    def perimeter(self) -> float:
        return 2 * (self.width + self.height)

rect = Rectangle(width=10, height=5)
print(rect.area)  # 50.0
print(rect.perimeter)  # 30.0

# Computed fields –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é
print(rect.model_dump())
# {'width': 10.0, 'height': 5.0, 'area': 50.0, 'perimeter': 30.0}

class User(BaseModel):
    first_name: str
    last_name: str
    
    @computed_field
    @property
    def full_name(self) -> str:
        return f"{self.first_name} {self.last_name}"

user = User(first_name="–ò–≤–∞–Ω", last_name="–ü–µ—Ç—Ä–æ–≤")
print(user.full_name)  # –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤
print(user.model_dump_json())  # –í–∫–ª—é—á–∞–µ—Ç full_name</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–ø–ª–æ—â–∞–¥—å, –ø–µ—Ä–∏–º–µ—Ç—Ä)</li>
                        <li>–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (full_name –∏–∑ first/last)</li>
                        <li>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –ø–æ–ª–µ–π –≤ API responses</li>
                        <li>–ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª–µ–π</li>
                    </ul>
                </div>
            </section>

            <section id="section-7" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-blue-400">7. Private Attributes (–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã)</h2>
                <p class="text-gray-300 mb-4">
                    –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –Ω–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ª–æ–≥–∏–∫–∏.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, PrivateAttr
from datetime import datetime

class User(BaseModel):
    name: str
    age: int
    
    # –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∞—Ç—Ä–∏–±—É—Ç —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º _
    _created_at: datetime = PrivateAttr(default_factory=datetime.now)
    _access_count: int = PrivateAttr(default=0)
    
    def increment_access(self):
        self._access_count += 1
    
    def get_access_count(self) -> int:
        return self._access_count

user = User(name="–ò–≤–∞–Ω", age=30)
user.increment_access()
user.increment_access()
print(user.get_access_count())  # 2

# –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –Ω–µ –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é
print(user.model_dump())  # {'name': '–ò–≤–∞–Ω', 'age': 30}

class CachedModel(BaseModel):
    data: str
    _cache: dict = PrivateAttr(default_factory=dict)
    
    def get_cached(self, key: str, default=None):
        return self._cache.get(key, default)
    
    def set_cached(self, key: str, value):
        self._cache[key] = value

model = CachedModel(data="test")
model.set_cached("result", "computed_value")
print(model.get_cached("result"))  # computed_value</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π</li>
                        <li>–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–µ–∑ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏</li>
                        <li>–°—á–µ—Ç—á–∏–∫–∏, –º–µ—Ç—Ä–∏–∫–∏, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
                        <li>–î–∞–Ω–Ω—ã–µ, –Ω–µ –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ</li>
                    </ul>
                </div>
            </section>

            <section id="section-8" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-blue-400">8. Model Config —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏</h2>
                <p class="text-gray-300 mb-4">
                    –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, ConfigDict, Field

class StrictConfig(BaseModel):
    model_config = ConfigDict(
        # –°—Ç—Ä–æ–≥–∏–µ —Ç–∏–ø—ã
        strict=True,
        # –ú–∏–Ω–∏–º—É–º –∏ –º–∞–∫—Å–∏–º—É–º –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
        str_min_length=1,
        str_max_length=1000,
        # –£–±–∏—Ä–∞—Ç—å –ø—Ä–æ–±–µ–ª—ã –∏–∑ —Å—Ç—Ä–æ–∫
        str_strip_whitespace=True,
        # –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –º—É—Ç–∞—Ü–∏–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
        frozen=True,
        # –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏
        validate_assignment=True,
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
        extra='forbid',  # 'allow', 'ignore', 'forbid'
    )
    
    name: str
    value: int

class JsonConfig(BaseModel):
    model_config = ConfigDict(
        # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å enum values –≤ JSON
        use_enum_values=True,
        # –°–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ alias
        populate_by_name=True,
        # JSON —Å—Ö–µ–º–∞
        json_schema_extra={
            "examples": [
                {"field1": "value1", "field2": 123}
            ]
        }
    )
    
    field1: str
    field2: int

class ArbitraryTypes(BaseModel):
    model_config = ConfigDict(
        # –†–∞–∑—Ä–µ—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ —Ç–∏–ø—ã
        arbitrary_types_allowed=True
    )
    
    # –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã
    custom_obj: object

import datetime

class DateConfig(BaseModel):
    model_config = ConfigDict(
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –¥–∞—Ç
        validate_default=True,
    )
    
    created_at: datetime.datetime = Field(
        default_factory=datetime.datetime.now
    )</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>strict=True –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
                        <li>frozen=True –¥–ª—è value objects</li>
                        <li>extra='forbid' –¥–ª—è —Å—Ç—Ä–æ–≥–æ–≥–æ API</li>
                        <li>arbitrary_types_allowed –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å legacy –∫–æ–¥–æ–º</li>
                    </ul>
                </div>
            </section>

            <section id="section-9" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-blue-400">9. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏</h2>
                <p class="text-gray-300 mb-4">
                    –î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å ValidationError –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, ValidationError, Field

class User(BaseModel):
    username: str = Field(min_length=3)
    email: str
    age: int = Field(ge=18, le=120)

try:
    user = User(
        username="ab",  # –°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π
        email="not-an-email",
        age=150  # –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π
    )
except ValidationError as e:
    # –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫
    print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫:", e.error_count())
    
    # –î–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–π –æ—à–∏–±–∫–∏
    for error in e.errors():
        print(f"–ü–æ–ª–µ: {error['loc']}")
        print(f"–¢–∏–ø: {error['type']}")
        print(f"–°–æ–æ–±—â–µ–Ω–∏–µ: {error['msg']}")
        print(f"–ó–Ω–∞—á–µ–Ω–∏–µ: {error.get('input')}")
        print("---")
    
    # JSON –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
    print("\nJSON:")
    print(e.json())
    
    # –°–ª–æ–≤–∞—Ä—å –æ—à–∏–±–æ–∫
    print("\nDict:")
    print(e.errors())

# –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
from pydantic import field_validator

class CustomErrors(BaseModel):
    password: str
    
    @field_validator('password')
    @classmethod
    def validate_password(cls, v):
        if len(v) < 8:
            raise ValueError('–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π (–º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤)')
        if not any(c.isupper() for c in v):
            raise ValueError('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞–≥–ª–∞–≤–Ω—É—é –±—É–∫–≤—É')
        return v

try:
    CustomErrors(password="weak")
except ValidationError as e:
    # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    for error in e.errors():
        print(error['msg'])

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–ª—è API
def handle_validation_error(e: ValidationError) -> dict:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –¥–ª—è API response"""
    errors = {}
    for error in e.errors():
        field = '.'.join(str(loc) for loc in error['loc'])
        errors[field] = error['msg']
    return {"errors": errors, "status": "validation_failed"}

try:
    user = User(username="ab", email="bad", age=15)
except ValidationError as e:
    response = handle_validation_error(e)
    print(response)</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ UI</li>
                        <li>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –≤–∞–ª–∏–¥–∞—Ü–∏–∏</li>
                        <li>API error responses —Å –¥–µ—Ç–∞–ª—è–º–∏</li>
                        <li>–û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å –¥–∞–Ω–Ω—ã–º–∏</li>
                    </ul>
                </div>
            </section>

            <section id="section-10" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-blue-400">10. –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–∏–ø–æ–≤</h2>
                <p class="text-gray-300 mb-4">
                    –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏ —Ñ–æ—Ä–º–∞—Ç–æ–≤.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, field_validator
from datetime import datetime
from typing import Any

class CustomParsing(BaseModel):
    # –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç—ã –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
    date_field: datetime
    
    @field_validator('date_field', mode='before')
    @classmethod
    def parse_date(cls, v):
        if isinstance(v, datetime):
            return v
        if isinstance(v, str):
            # –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
            for fmt in ['%Y-%m-%d', '%d.%m.%Y', '%d/%m/%Y']:
                try:
                    return datetime.strptime(v, fmt)
                except ValueError:
                    continue
            raise ValueError(f'–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã: {v}')
        raise ValueError('–î–∞—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π –∏–ª–∏ datetime')

# –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏
obj1 = CustomParsing(date_field="2024-01-15")
obj2 = CustomParsing(date_field="15.01.2024")
obj3 = CustomParsing(date_field="15/01/2024")

print(obj1.date_field)
print(obj2.date_field)
print(obj3.date_field)

# –ü–∞—Ä—Å–∏–Ω–≥ –±—É–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
class BoolParsing(BaseModel):
    is_active: bool
    
    @field_validator('is_active', mode='before')
    @classmethod
    def parse_bool(cls, v):
        if isinstance(v, bool):
            return v
        if isinstance(v, str):
            v_lower = v.lower()
            if v_lower in ('yes', 'true', '1', 'on', '–¥–∞'):
                return True
            if v_lower in ('no', 'false', '0', 'off', '–Ω–µ—Ç'):
                return False
        if isinstance(v, int):
            return bool(v)
        raise ValueError(f'–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ bool: {v}')

# –†–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —É–∫–∞–∑–∞—Ç—å boolean
bool1 = BoolParsing(is_active="yes")
bool2 = BoolParsing(is_active="–¥–∞")
bool3 = BoolParsing(is_active=1)
print(bool1.is_active, bool2.is_active, bool3.is_active)  # True True True

# –ü–∞—Ä—Å–∏–Ω–≥ —Å–ø–∏—Å–∫–æ–≤ –∏–∑ —Å—Ç—Ä–æ–∫–∏
class ListParsing(BaseModel):
    tags: list[str]
    
    @field_validator('tags', mode='before')
    @classmethod
    def parse_tags(cls, v):
        if isinstance(v, list):
            return v
        if isinstance(v, str):
            # –ü–∞—Ä—Å–∏–º –∏–∑ CSV
            return [tag.strip() for tag in v.split(',')]
        raise ValueError('Tags –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–ø–∏—Å–∫–æ–º –∏–ª–∏ CSV —Å—Ç—Ä–æ–∫–æ–π')

# –ò–∑ —Å—Ç—Ä–æ–∫–∏ –∏ —Å–ø–∏—Å–∫–∞
tags1 = ListParsing(tags="python, pydantic, fastapi")
tags2 = ListParsing(tags=["python", "pydantic", "fastapi"])
print(tags1.tags)
print(tags2.tags)</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö</li>
                        <li>–ì–∏–±–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –±—É–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π</li>
                        <li>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ CSV –≤ —Å–ø–∏—Å–∫–∏</li>
                        <li>–†–∞–±–æ—Ç–∞ —Å legacy –¥–∞–Ω–Ω—ã–º–∏ –≤ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö</li>
                    </ul>
                </div>
            </section>

            <section id="section-11" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-green-400">11. –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –ø–æ–ª–µ–π (@field_validator)</h2>
                <p class="text-gray-300 mb-4">
                    field_validator –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—É—é –ª–æ–≥–∏–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, field_validator, ValidationError

class UserRegistration(BaseModel):
    username: str
    password: str
    email: str
    age: int
    
    @field_validator('username')
    @classmethod
    def username_alphanumeric(cls, v):
        if not v.isalnum():
            raise ValueError('Username –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã')
        if len(v) < 3:
            raise ValueError('Username –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 3 —Å–∏–º–≤–æ–ª–æ–≤')
        return v.lower()  # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
    
    @field_validator('password')
    @classmethod
    def password_strength(cls, v):
        if len(v) < 8:
            raise ValueError('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 8 —Å–∏–º–≤–æ–ª–æ–≤')
        if not any(c.isupper() for c in v):
            raise ValueError('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞–≥–ª–∞–≤–Ω—É—é –±—É–∫–≤—É')
        if not any(c.isdigit() for c in v):
            raise ValueError('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ü–∏—Ñ—Ä—É')
        return v
    
    @field_validator('email')
    @classmethod
    def email_valid(cls, v):
        if '@' not in v or '.' not in v:
            raise ValueError('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email')
        return v.lower()
    
    @field_validator('age')
    @classmethod
    def age_valid(cls, v):
        if v < 18:
            raise ValueError('–í–æ–∑—Ä–∞—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 18 –ª–µ—Ç')
        if v > 120:
            raise ValueError('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç')
        return v

# –í–∞–ª–∏–¥–Ω—ã–π –ø—Ä–∏–º–µ—Ä
user = UserRegistration(
    username="User123",
    password="SecurePass1",
    email="User@Example.Com",
    age=25
)
print(user.username)  # user123 (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
print(user.email)  # user@example.com (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

# –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π –ø—Ä–∏–º–µ—Ä
try:
    invalid = UserRegistration(
        username="user@123",  # –°–æ–¥–µ—Ä–∂–∏—Ç @
        password="weak",  # –°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π
        email="invalid",
        age=15  # –ú–µ–Ω—å—à–µ 18
    )
except ValidationError as e:
    print(e)</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö (email, —Ç–µ–ª–µ—Ñ–æ–Ω, URL)</li>
                        <li>–ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π</li>
                        <li>–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π (lowercase, trim)</li>
                        <li>–°–ª–æ–∂–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ –ø–æ–ª—è</li>
                    </ul>
                </div>
            </section>

            <section id="section-12" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-green-400">12. –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –º–æ–¥–µ–ª–µ–π (@model_validator)</h2>
                <p class="text-gray-300 mb-4">
                    model_validator –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, model_validator, ValidationError
from datetime import date

class Event(BaseModel):
    title: str
    start_date: date
    end_date: date
    min_participants: int
    max_participants: int
    
    @model_validator(mode='after')
    def validate_dates(self):
        if self.end_date < self.start_date:
            raise ValueError('–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–Ω—å—à–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞')
        return self
    
    @model_validator(mode='after')
    def validate_participants(self):
        if self.max_participants < self.min_participants:
            raise ValueError(
                '–ú–∞–∫—Å–∏–º—É–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º—É–º–∞'
            )
        if self.min_participants < 1:
            raise ValueError('–ú–∏–Ω–∏–º—É–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å >= 1')
        return self

class PasswordChange(BaseModel):
    old_password: str
    new_password: str
    confirm_password: str
    
    @model_validator(mode='after')
    def passwords_match(self):
        if self.new_password != self.confirm_password:
            raise ValueError('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç')
        if self.old_password == self.new_password:
            raise ValueError('–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç —Å—Ç–∞—Ä–æ–≥–æ')
        return self

# –í–∞–ª–∏–¥–Ω—ã–π –ø—Ä–∏–º–µ—Ä
event = Event(
    title="Python Conference",
    start_date=date(2024, 6, 1),
    end_date=date(2024, 6, 3),
    min_participants=10,
    max_participants=100
)

# –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
try:
    # –î–∞—Ç—ã –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
    invalid_event = Event(
        title="Test",
        start_date=date(2024, 6, 3),
        end_date=date(2024, 6, 1),
        min_participants=10,
        max_participants=100
    )
except ValidationError as e:
    print(e)

try:
    # –ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç
    pwd_change = PasswordChange(
        old_password="OldPass123",
        new_password="NewPass123",
        confirm_password="DifferentPass123"
    )
except ValidationError as e:
    print(e)</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>Cross-field –≤–∞–ª–∏–¥–∞—Ü–∏—è (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª–µ–π)</li>
                        <li>–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª, –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—â–∏—Ö –º–æ–¥–µ–ª—å —Ü–µ–ª–∏–∫–æ–º</li>
                        <li>–í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É –ø–æ–ª—è–º–∏</li>
                        <li>–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ª–æ–≥–∏–∫–∞, —Ç—Ä–µ–±—É—é—â–∞—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–∏</li>
                    </ul>
                </div>
            </section>

            <section id="section-13" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-green-400">13. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã mode (before/after)</h2>
                <p class="text-gray-300 mb-4">
                    –†–µ–∂–∏–º—ã 'before' –∏ 'after' –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, field_validator, model_validator

class DataProcessor(BaseModel):
    raw_input: str
    processed_value: int
    
    # mode='before': –≤–∞–ª–∏–¥–∞—Ü–∏—è –î–û –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–∏–ø–æ–≤
    # –ü–æ–ª—É—á–∞–µ–º —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
    @field_validator('raw_input', mode='before')
    @classmethod
    def clean_input(cls, v):
        print(f"Before: —Ç–∏–ø={type(v)}, –∑–Ω–∞—á–µ–Ω–∏–µ={v}")
        if isinstance(v, str):
            return v.strip().upper()
        return v
    
    # mode='after': –≤–∞–ª–∏–¥–∞—Ü–∏—è –ü–û–°–õ–ï –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–∏–ø–æ–≤
    # –ü–æ–ª—É—á–∞–µ–º —É–∂–µ —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    @field_validator('processed_value', mode='after')
    @classmethod
    def validate_processed(cls, v):
        print(f"After: —Ç–∏–ø={type(v)}, –∑–Ω–∞—á–µ–Ω–∏–µ={v}")
        if v < 0:
            raise ValueError('–ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º')
        return v

class ComplexModel(BaseModel):
    field_a: str
    field_b: int
    result: str = ""
    
    # mode='before': —Ä–∞–±–æ—Ç–∞ —Å–æ —Å–ª–æ–≤–∞—Ä–µ–º –¥–∞–Ω–Ω—ã—Ö
    @model_validator(mode='before')
    @classmethod
    def preprocess(cls, data):
        print(f"Model before: {data}")
        # data - —ç—Ç–æ —Å–ª–æ–≤–∞—Ä—å
        if isinstance(data, dict):
            # –ú–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–ª—è
            data['field_a'] = data.get('field_a', '').upper()
        return data
    
    # mode='after': —Ä–∞–±–æ—Ç–∞ —Å —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –º–æ–¥–µ–ª–∏
    @model_validator(mode='after')
    def postprocess(self):
        print(f"Model after: field_a={self.field_a}, field_b={self.field_b}")
        # self - —ç—Ç–æ —ç–∫–∑–µ–º–ø–ª—è—Ä –º–æ–¥–µ–ª–∏
        self.result = f"{self.field_a}_{self.field_b}"
        return self

# –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
processor = DataProcessor(
    raw_input="  hello world  ",
    processed_value="42"
)
print(f"raw_input: {processor.raw_input}")  # HELLO WORLD
print(f"processed_value: {processor.processed_value}")  # 42

complex_data = ComplexModel(field_a="test", field_b=123)
print(f"result: {complex_data.result}")  # TEST_123</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>mode='before' - –¥–ª—è –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
                        <li>mode='before' - –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π</li>
                        <li>mode='after' - –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —É–∂–µ —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
                        <li>mode='after' - –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö –ø–æ–ª–µ–π</li>
                    </ul>
                </div>
            </section>

            <section id="section-14" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-green-400">14. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (ValidationInfo)</h2>
                <p class="text-gray-300 mb-4">
                    ValidationInfo –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –≤–∫–ª—é—á–∞—è –¥–æ—Å—Ç—É–ø –∫ –¥—Ä—É–≥–∏–º –ø–æ–ª—è–º –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, field_validator, ValidationInfo

class UserAccount(BaseModel):
    username: str
    role: str
    max_file_size: int
    
    @field_validator('max_file_size')
    @classmethod
    def validate_file_size(cls, v, info: ValidationInfo):
        # –î–æ—Å—Ç—É–ø –∫ –¥—Ä—É–≥–∏–º –ø–æ–ª—è–º —á–µ—Ä–µ–∑ info.data
        role = info.data.get('role')
        
        if role == 'admin':
            max_allowed = 1000
        elif role == 'premium':
            max_allowed = 500
        else:
            max_allowed = 100
        
        if v > max_allowed:
            raise ValueError(
                f'–î–ª—è —Ä–æ–ª–∏ {role} –º–∞–∫—Å–∏–º—É–º {max_allowed} MB'
            )
        return v

class SecureData(BaseModel):
    data: str
    encryption_key: str
    
    @field_validator('data')
    @classmethod
    def encrypt_if_needed(cls, v, info: ValidationInfo):
        # –î–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        context = info.context
        
        if context and context.get('encrypt'):
            # –ü—Ä–æ—Å—Ç–∞—è "—à–∏—Ñ—Ä–æ–≤–∫–∞" –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
            key = info.data.get('encryption_key', '')
            return f"encrypted_{key}_{v}"
        return v

# –ü—Ä–∏–º–µ—Ä —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é –æ—Ç –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—è
admin = UserAccount(
    username="admin",
    role="admin",
    max_file_size=800  # OK –¥–ª—è admin
)

try:
    regular = UserAccount(
        username="user",
        role="user",
        max_file_size=200  # –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ user
    )
except ValidationError as e:
    print(e)

# –ü—Ä–∏–º–µ—Ä —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
secure = SecureData.model_validate(
    {"data": "secret", "encryption_key": "key123"},
    context={"encrypt": True}
)
print(secure.data)  # encrypted_key123_secret

secure2 = SecureData.model_validate(
    {"data": "public", "encryption_key": "key123"},
    context={"encrypt": False}
)
print(secure2.data)  # public</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–Ω–∞—á–µ–Ω–∏–π –¥—Ä—É–≥–∏—Ö –ø–æ–ª–µ–π</li>
                        <li>–ù—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É (user permissions, settings)</li>
                        <li>–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —É—Å–ª–æ–≤–∏–π</li>
                        <li>–£—Å–ª–æ–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö</li>
                    </ul>
                </div>
            </section>

            <section id="section-15" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-yellow-400">15. –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ —ç–∫—Å–ø–æ—Ä—Ç</h2>
                <p class="text-gray-300 mb-4">
                    Pydantic –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥–µ–ª–µ–π –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, Field
from typing import Optional

class Address(BaseModel):
    street: str
    city: str
    country: str

class Person(BaseModel):
    id: int
    name: str
    email: str
    password: str = Field(exclude=True)  # –í—Å–µ–≥–¥–∞ –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è
    age: Optional[int] = None
    address: Address

person = Person(
    id=1,
    name="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    email="ivan@example.com",
    password="secret123",
    age=30,
    address=Address(
        street="–õ–µ–Ω–∏–Ω–∞ 1",
        city="–ú–æ—Å–∫–≤–∞",
        country="–†–æ—Å—Å–∏—è"
    )
)

# –ë–∞–∑–æ–≤–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ dict
data = person.model_dump()
print(data)  # password –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–∫–ª—é—á—ë–Ω

# –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ JSON
json_str = person.model_dump_json()
print(json_str)

# –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª–µ–π
without_email = person.model_dump(exclude={'email'})
print(without_email)

# –í–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –ø–æ–ª–µ–π
only_name = person.model_dump(include={'name', 'email'})
print(only_name)

# –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π
without_country = person.model_dump(
    exclude={'address': {'country'}}
)
print(without_country)

# –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
json_pretty = person.model_dump_json(indent=2)
print(json_pretty)

# exclude_unset: –∏—Å–∫–ª—é—á–∏—Ç—å –ø–æ–ª—è —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
minimal = person.model_dump(exclude_unset=True)

# exclude_none: –∏—Å–∫–ª—é—á–∏—Ç—å –ø–æ–ª—è —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º None
no_none = person.model_dump(exclude_none=True)</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>API responses - —Å–∫—Ä—ã—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
                        <li>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ - –∏—Å–∫–ª—é—á–∏—Ç—å password, —Ç–æ–∫–µ–Ω—ã</li>
                        <li>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î - –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è</li>
                        <li>–ß–∞—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è - exclude_unset=True</li>
                    </ul>
                </div>
            </section>

            <section id="section-16" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-yellow-400">16. Alias –¥–ª—è –ø–æ–ª–µ–π</h2>
                <p class="text-gray-300 mb-4">
                    Alias –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∏–º–µ–Ω–∞ –¥–ª—è –ø–æ–ª–µ–π –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, Field, ConfigDict

class APIResponse(BaseModel):
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º snake_case –≤ Python, –Ω–æ camelCase –≤ JSON
    user_id: int = Field(alias="userId")
    user_name: str = Field(alias="userName")
    email_address: str = Field(alias="emailAddress")
    is_active: bool = Field(alias="isActive")
    
    model_config = ConfigDict(
        populate_by_name=True  # –†–∞–∑—Ä–µ—à–∏—Ç—å –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∏–º—ë–Ω
    )

# –ü–∞—Ä—Å–∏–Ω–≥ —Å alias (camelCase)
api_data = {
    "userId": 123,
    "userName": "–ü–µ—Ç—Ä",
    "emailAddress": "petr@example.com",
    "isActive": True
}
response = APIResponse(**api_data)

# –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ Python –∏–º–µ–Ω–∞ (snake_case)
print(response.user_id)  # 123
print(response.user_name)  # –ü–µ—Ç—Ä

# –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å alias
json_output = response.model_dump(by_alias=True)
print(json_output)  # {"userId": 123, "userName": "–ü–µ—Ç—Ä", ...}

# –ë–µ–∑ alias (Python –∏–º–µ–Ω–∞)
python_output = response.model_dump(by_alias=False)
print(python_output)  # {"user_id": 123, "user_name": "–ü–µ—Ç—Ä", ...}

# populate_by_name=True –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞
response2 = APIResponse(
    user_id=456,  # Python –∏–º—è
    userName="–ú–∞—Ä–∏—è",  # API alias
    email_address="maria@example.com",  # Python –∏–º—è
    isActive=False  # API alias
)

class DatabaseModel(BaseModel):
    # –ú–∞–ø–ø–∏–Ω–≥ –∏–º—ë–Ω –ø–æ–ª–µ–π –ë–î –Ω–∞ Python
    id: int = Field(alias="ID")
    full_name: str = Field(alias="FullName")
    created_date: str = Field(alias="CreatedDate")

# –ü–∞—Ä—Å–∏–Ω–≥ –∏–∑ –ë–î
db_row = {
    "ID": 1,
    "FullName": "–ò–≤–∞–Ω –°–∏–¥–æ—Ä–æ–≤",
    "CreatedDate": "2024-01-15"
}
model = DatabaseModel(**db_row)
print(model.full_name)  # –ò–≤–∞–Ω –°–∏–¥–æ—Ä–æ–≤</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–†–∞–±–æ—Ç–∞ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API (camelCase vs snake_case)</li>
                        <li>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å legacy —Å–∏—Å—Ç–µ–º–∞–º–∏</li>
                        <li>–ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π –ë–î –Ω–∞ Python –∞—Ç—Ä–∏–±—É—Ç—ã</li>
                        <li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Å–æ–≥–ª–∞—à–µ–Ω–∏–π –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏</li>
                    </ul>
                </div>
            </section>

            <section id="section-17" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-yellow-400">17. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏</h2>
                <p class="text-gray-300 mb-4">
                    ConfigDict –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–º —É—Ä–æ–≤–Ω–µ.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, ConfigDict, Field, ValidationError

class StrictModel(BaseModel):
    model_config = ConfigDict(
        strict=True,  # –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
        frozen=True   # –ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å
    )
    
    id: int
    name: str

# strict=True: –Ω–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤
try:
    item = StrictModel(id="123", name="Test")  # –û—à–∏–±–∫–∞!
except ValidationError:
    print("–°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è: '123' –Ω–µ —è–≤–ª—è–µ—Ç—Å—è int")

item = StrictModel(id=123, name="Test")  # OK

# frozen=True: –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
try:
    item.name = "New Name"  # –û—à–∏–±–∫–∞!
except ValidationError:
    print("–ú–æ–¥–µ–ª—å –∑–∞–º–æ—Ä–æ–∂–µ–Ω–∞")

class FlexibleModel(BaseModel):
    model_config = ConfigDict(
        extra='allow',  # –†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
        validate_assignment=True,  # –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
        str_strip_whitespace=True,  # –£–±–∏—Ä–∞—Ç—å –ø—Ä–æ–±–µ–ª—ã –∏–∑ —Å—Ç—Ä–æ–∫
        str_to_lower=False,
        str_to_upper=False
    )
    
    name: str
    age: int

# extra='allow': –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –ø–æ–ª—è
flex = FlexibleModel(
    name="  –ò–≤–∞–Ω  ",
    age=30,
    additional_field="extra data"  # –ù–µ –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É
)
print(flex.name)  # "–ò–≤–∞–Ω" (–ø—Ä–æ–±–µ–ª—ã —É–±—Ä–∞–Ω—ã)
print(flex.additional_field)  # "extra data"

# validate_assignment=True: –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏
flex.age = "25"  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è
print(flex.age)  # 25

try:
    flex.age = "invalid"  # –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
except ValidationError:
    print("–í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç")

class AliasModel(BaseModel):
    model_config = ConfigDict(
        populate_by_name=True,  # –†–∞–∑—Ä–µ—à–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–º—è –∏ alias
        alias_generator=lambda x: ''.join(
            word.capitalize() for word in x.split('_')
        )  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è CamelCase
    )
    
    user_name: str
    email_address: str

# –†–∞–±–æ—Ç–∞–µ—Ç –∏ —Å snake_case –∏ —Å CamelCase
user1 = AliasModel(user_name="Test", email_address="test@example.com")
user2 = AliasModel(UserName="Test2", EmailAddress="test2@example.com")

json_output = user1.model_dump(by_alias=True)
print(json_output)  # {"UserName": "Test", "EmailAddress": "..."}</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>strict=True –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤</li>
                        <li>frozen=True –¥–ª—è –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã—Ö value objects</li>
                        <li>extra='allow' –¥–ª—è –≥–∏–±–∫–∏—Ö API —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏</li>
                        <li>validate_assignment=True –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è</li>
                    </ul>
                </div>
            </section>

            <section id="section-18" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-yellow-400">18. Enum –∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è</h2>
                <p class="text-gray-300 mb-4">
                    –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Enum –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –∑–Ω–∞—á–µ–Ω–∏–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from enum import Enum
from pydantic import BaseModel, ValidationError

class UserRole(str, Enum):
    ADMIN = "admin"
    MODERATOR = "moderator"
    USER = "user"
    GUEST = "guest"

class OrderStatus(str, Enum):
    PENDING = "pending"
    PROCESSING = "processing"
    SHIPPED = "shipped"
    DELIVERED = "delivered"
    CANCELLED = "cancelled"

class Priority(int, Enum):
    LOW = 1
    MEDIUM = 2
    HIGH = 3
    CRITICAL = 4

class User(BaseModel):
    username: str
    role: UserRole

class Order(BaseModel):
    order_id: int
    status: OrderStatus
    priority: Priority

# –°–æ–∑–¥–∞–Ω–∏–µ —Å Enum
user = User(username="admin_user", role=UserRole.ADMIN)
print(user.role)  # UserRole.ADMIN
print(user.role.value)  # "admin"

# –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ —Å—Ç—Ä–æ–∫–æ–π (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è)
user2 = User(username="regular_user", role="user")
print(user2.role)  # UserRole.USER
print(isinstance(user2.role, UserRole))  # True

# –ù–µ–≤–∞–ª–∏–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
try:
    invalid_user = User(username="test", role="superuser")
except ValidationError as e:
    print("–û—à–∏–±–∫–∞: –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —Ä–æ–ª—å")
    print(e)

# –†–∞–±–æ—Ç–∞ —Å –∑–∞–∫–∞–∑–∞–º–∏
order = Order(
    order_id=12345,
    status=OrderStatus.PROCESSING,
    priority=Priority.HIGH
)

# –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
order_dict = order.model_dump()
print(order_dict)  # {"order_id": 12345, "status": "processing", ...}

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ
if order.priority == Priority.HIGH:
    print("–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç!")

# –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
def update_status(order: Order, new_status: OrderStatus) -> Order:
    # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
    valid_transitions = {
        OrderStatus.PENDING: [OrderStatus.PROCESSING, OrderStatus.CANCELLED],
        OrderStatus.PROCESSING: [OrderStatus.SHIPPED, OrderStatus.CANCELLED],
        OrderStatus.SHIPPED: [OrderStatus.DELIVERED],
    }
    
    allowed = valid_transitions.get(order.status, [])
    if new_status not in allowed:
        raise ValueError(
            f"–ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å {order.status} –Ω–∞ {new_status}"
        )
    
    order.status = new_status
    return order

# –í—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
print("–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–æ–ª–∏:", [role.value for role in UserRole])
print("–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã:", list(OrderStatus))</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø—Ä–æ—Ü–µ—Å—Å–æ–≤</li>
                        <li>–†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</li>
                        <li>–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–∏–ø—ã</li>
                        <li>–õ—é–±—ã–µ –ø–æ–ª—è —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –∑–Ω–∞—á–µ–Ω–∏–π</li>
                    </ul>
                </div>
            </section>

            <section id="section-19" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-yellow-400">19. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è</h2>
                <p class="text-gray-300 mb-4">
                    RootModel –∏ extra='allow' –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, RootModel, ConfigDict, Field
from typing import Dict, Any

# –ú–æ–¥–µ–ª—å —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
class FlexibleUser(BaseModel):
    model_config = ConfigDict(extra='allow')
    
    id: int
    name: str
    # –õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ –ø–æ–ª—è –±—É–¥—É—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω—ã

user = FlexibleUser(
    id=1,
    name="–ò–≤–∞–Ω",
    age=30,
    city="–ú–æ—Å–∫–≤–∞",
    hobbies=["—á—Ç–µ–Ω–∏–µ", "—Å–ø–æ—Ä—Ç"]
)

print(user.id)  # 1
print(user.age)  # 30 (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–µ)
print(user.model_dump())  # –í—Å–µ –ø–æ–ª—è, –≤–∫–ª—é—á–∞—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ

# RootModel: –º–æ–¥–µ–ª—å-–æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ —Ç–∏–ø–æ–º
class StringList(RootModel[list[str]]):
    root: list[str]
    
    def append(self, item: str):
        self.root.append(item)

tags = StringList(root=["python", "pydantic"])
tags.append("fastapi")
print(tags.root)  # ["python", "pydantic", "fastapi"]

# –°–ª–æ–≤–∞—Ä—å —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∑–Ω–∞—á–µ–Ω–∏–π
class Settings(RootModel[Dict[str, int]]):
    root: Dict[str, int]
    
    def get_setting(self, key: str, default: int = 0) -> int:
        return self.root.get(key, default)

settings = Settings(root={
    "max_connections": 100,
    "timeout": 30,
    "retry_count": 3
})

print(settings.get_setting("timeout"))  # 30

# –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
class Product(BaseModel):
    model_config = ConfigDict(extra='allow')
    
    # –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
    id: int
    name: str
    price: float
    
    # –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)

product = Product(
    id=1,
    name="–ù–æ—É—Ç–±—É–∫",
    price=75000,
    # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è - —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ç–æ–≤–∞—Ä–∞
    brand="Lenovo",
    ram="16GB",
    storage="512GB SSD",
    color="–°–µ—Ä—ã–π"
)

# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª–µ–π
all_fields = product.model_dump()
required_fields = {"id", "name", "price"}
dynamic_fields = {k: v for k, v in all_fields.items() 
                  if k not in required_fields}
print(f"–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: {dynamic_fields}")

# Forbid extra fields (–∑–∞–ø—Ä–µ—Ç–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ)
class StrictProduct(BaseModel):
    model_config = ConfigDict(extra='forbid')
    
    id: int
    name: str

try:
    # –û—à–∏–±–∫–∞: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø—Ä–µ—â–µ–Ω—ã
    strict = StrictProduct(id=1, name="Test", extra_field="value")
except ValidationError as e:
    print("Extra fields –∑–∞–ø—Ä–µ—â–µ–Ω—ã")</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>extra='allow' –¥–ª—è API —Å —Ä–∞—Å—à–∏—Ä—è–µ–º–æ–π —Å—Ö–µ–º–æ–π</li>
                        <li>RootModel –¥–ª—è –æ–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–π —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π</li>
                        <li>–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–æ–≤/–ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏</li>
                        <li>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏</li>
                    </ul>
                </div>
            </section>

            <section id="section-20" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-yellow-400">20. –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π</h2>
                <p class="text-gray-300 mb-4">
                    –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏–∏ –º–æ–¥–µ–ª–µ–π –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, Field, field_validator
from datetime import datetime
from typing import Optional

# –ë–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å
class BaseUser(BaseModel):
    id: int
    username: str
    email: str
    created_at: datetime = Field(default_factory=datetime.now)
    
    @field_validator('email')
    @classmethod
    def validate_email(cls, v):
        if '@' not in v:
            raise ValueError('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email')
        return v.lower()

# –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –º–æ–¥–µ–ª–∏
class RegularUser(BaseUser):
    subscription_level: str = "free"
    max_uploads: int = 10

class PremiumUser(BaseUser):
    subscription_level: str = "premium"
    max_uploads: int = 100
    premium_features: list[str] = Field(default_factory=list)

class AdminUser(BaseUser):
    subscription_level: str = "admin"
    max_uploads: int = -1  # –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ
    permissions: list[str] = Field(default_factory=list)
    can_moderate: bool = True

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
regular = RegularUser(
    id=1,
    username="user1",
    email="User1@Example.Com"
)
print(regular.email)  # user1@example.com (–≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç)
print(regular.max_uploads)  # 10

premium = PremiumUser(
    id=2,
    username="premium_user",
    email="premium@example.com",
    premium_features=["ad_free", "priority_support"]
)

admin = AdminUser(
    id=3,
    username="admin",
    email="admin@example.com",
    permissions=["read", "write", "delete", "manage_users"]
)

# –û–±—â–∏–π –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
class TimestampedModel(BaseModel):
    created_at: datetime = Field(default_factory=datetime.now)
    updated_at: Optional[datetime] = None

class Article(TimestampedModel):
    title: str
    content: str
    author_id: int

class Comment(TimestampedModel):
    article_id: int
    user_id: int
    text: str

# –û–±–∞ –∏–º–µ—é—Ç timestamp –ø–æ–ª—è
article = Article(
    title="Python Tips",
    content="...",
    author_id=1
)

comment = Comment(
    article_id=1,
    user_id=2,
    text="–û—Ç–ª–∏—á–Ω–∞—è —Å—Ç–∞—Ç—å—è!"
)

print(article.created_at)
print(comment.created_at)

# –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
class Timestamped(BaseModel):
    created_at: datetime = Field(default_factory=datetime.now)

class Authorable(BaseModel):
    author_id: int
    author_name: str

class BlogPost(Timestamped, Authorable):
    title: str
    content: str

post = BlogPost(
    title="–ù–æ–≤—ã–π –ø–æ—Å—Ç",
    content="–°–æ–¥–µ—Ä–∂–∏–º–æ–µ",
    author_id=1,
    author_name="–ò–≤–∞–Ω"
)

print(post.model_dump())</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–ò–µ—Ä–∞—Ä—Ö–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ –¥–æ—Å—Ç—É–ø–∞</li>
                        <li>–û–±—â–∏–µ –ø–æ–ª—è –¥–ª—è –≥—Ä—É–ø–ø—ã –º–æ–¥–µ–ª–µ–π (timestamps, author)</li>
                        <li>DRY –ø—Ä–∏–Ω—Ü–∏–ø - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏</li>
                        <li>–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ –º–æ–¥–µ–ª–∏ —Å –æ–±—â–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º</li>
                    </ul>
                </div>
            </section>

            <section id="section-21" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-yellow-400">21. –í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏</h2>
                <p class="text-gray-300 mb-4">
                    –í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, Field
from typing import List, Optional

class Address(BaseModel):
    street: str
    city: str
    postal_code: str
    country: str = "–†–æ—Å—Å–∏—è"

class Phone(BaseModel):
    number: str
    type: str  # mobile, home, work

class Company(BaseModel):
    name: str
    industry: str
    employees_count: int

class Person(BaseModel):
    name: str
    age: int
    # –û–¥–Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
    address: Address
    # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –≤–ª–æ–∂–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
    company: Optional[Company] = None
    # –°–ø–∏—Å–æ–∫ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
    phones: List[Phone] = Field(default_factory=list)

# –°–æ–∑–¥–∞–Ω–∏–µ —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
person = Person(
    name="–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü–µ—Ç—Ä–æ–≤",
    age=35,
    address={
        "street": "–¢–≤–µ—Ä—Å–∫–∞—è 10",
        "city": "–ú–æ—Å–∫–≤–∞",
        "postal_code": "125009"
    },
    company={
        "name": "Tech Corp",
        "industry": "IT",
        "employees_count": 500
    },
    phones=[
        {"number": "+7-999-123-45-67", "type": "mobile"},
        {"number": "+7-495-123-45-67", "type": "work"}
    ]
)

# –î–æ—Å—Ç—É–ø –∫ –≤–ª–æ–∂–µ–Ω–Ω—ã–º –ø–æ–ª—è–º
print(person.address.city)  # –ú–æ—Å–∫–≤–∞
print(person.company.name)  # Tech Corp
print(person.phones[0].number)  # +7-999-123-45-67

# –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É
person_dict = person.model_dump()
print(person_dict["address"]["city"])  # –ú–æ—Å–∫–≤–∞

# –°–ª–æ–∂–Ω–∞—è –≤–ª–æ–∂–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
class OrderItem(BaseModel):
    product_id: int
    product_name: str
    quantity: int
    price: float
    
    @property
    def total(self) -> float:
        return self.quantity * self.price

class Discount(BaseModel):
    code: str
    percent: float = Field(ge=0, le=100)

class Order(BaseModel):
    order_id: int
    customer: Person
    items: List[OrderItem]
    discount: Optional[Discount] = None
    
    @property
    def subtotal(self) -> float:
        return sum(item.total for item in self.items)
    
    @property
    def total(self) -> float:
        subtotal = self.subtotal
        if self.discount:
            subtotal *= (1 - self.discount.percent / 100)
        return subtotal

# –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
order = Order(
    order_id=12345,
    customer=person,
    items=[
        {
            "product_id": 1,
            "product_name": "–ù–æ—É—Ç–±—É–∫",
            "quantity": 1,
            "price": 75000
        },
        {
            "product_id": 2,
            "product_name": "–ú—ã—à—å",
            "quantity": 2,
            "price": 1500
        }
    ],
    discount={"code": "SAVE10", "percent": 10}
)

print(f"–ó–∞–∫–∞–∑ #{order.order_id}")
print(f"–ö–ª–∏–µ–Ω—Ç: {order.customer.name}")
print(f"–ì–æ—Ä–æ–¥ –¥–æ—Å—Ç–∞–≤–∫–∏: {order.customer.address.city}")
print(f"–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è —Å—É–º–º–∞: {order.subtotal} —Ä—É–±")
print(f"–°–∫–∏–¥–∫–∞: {order.discount.percent}%")
print(f"–ò—Ç–æ–≥–æ: {order.total} —Ä—É–±")</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö —Å —á–µ—Ç–∫–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–µ–π</li>
                        <li>API —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ (orders, users, etc)</li>
                        <li>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–æ —Å–ª–æ–∂–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π</li>
                        <li>–î–æ–∫—É–º–µ–Ω—Ç—ã —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏</li>
                    </ul>
                </div>
            </section>

            <section id="section-22" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-yellow-400">22. UUID –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã</h2>
                <p class="text-gray-300 mb-4">
                    Pydantic –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, Field, ValidationError
from pydantic import EmailStr, HttpUrl, UUID4, IPvAnyAddress
from pydantic import FilePath, DirectoryPath, Json
from uuid import UUID, uuid4
from typing import Any

class AdvancedTypes(BaseModel):
    # UUID
    id: UUID4 = Field(default_factory=uuid4)
    
    # Email —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
    # –¢—Ä–µ–±—É–µ—Ç: pip install pydantic[email]
    email: EmailStr
    
    # URL —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
    website: HttpUrl
    
    # IP –∞–¥—Ä–µ—Å (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç IPv4 –∏ IPv6)
    ip_address: IPvAnyAddress
    
    # JSON —Å—Ç—Ä–æ–∫–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç—Å—è
    metadata: Json[Any]

# –°–æ–∑–¥–∞–Ω–∏–µ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
try:
    data = AdvancedTypes(
        email="user@example.com",
        website="https://example.com/page",
        ip_address="192.168.1.1",
        metadata='{"key": "value", "number": 42}'
    )
    
    print(f"ID: {data.id}")
    print(f"Email: {data.email}")
    print(f"Website: {data.website}")
    print(f"IP: {data.ip_address}")
    print(f"Metadata: {data.metadata}")
    print(f"Metadata type: {type(data.metadata)}")  # dict
except ValidationError as e:
    print(e)

# –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
try:
    invalid = AdvancedTypes(
        email="not-an-email",  # –û—à–∏–±–∫–∞
        website="not a url",  # –û—à–∏–±–∫–∞
        ip_address="999.999.999.999",  # –û—à–∏–±–∫–∞
        metadata="not json"  # –û—à–∏–±–∫–∞
    )
except ValidationError as e:
    print("–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:")
    for error in e.errors():
        print(f"  {error['loc']}: {error['msg']}")

# –†–∞–±–æ—Ç–∞ —Å –ø—É—Ç—è–º–∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
from pathlib import Path

class FileConfig(BaseModel):
    # –ü—É—Ç—å –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∏ –±—ã—Ç—å —Ñ–∞–π–ª–æ–º
    config_file: FilePath
    
    # –ü—É—Ç—å –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∏ –±—ã—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π
    data_directory: DirectoryPath

# –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ç–∏–ø—ã –¥–ª—è —Å—Ç—Ä–æ–∫
from pydantic import constr, conint, confloat, conlist

class ConstrainedTypes(BaseModel):
    # –°—Ç—Ä–æ–∫–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
    username: constr(min_length=3, max_length=20, pattern=r'^[a-zA-Z0-9_]+$')
    
    # –ß–∏—Å–ª–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
    age: conint(ge=18, le=120)
    
    # Float —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
    rating: confloat(ge=0.0, le=5.0)
    
    # –°–ø–∏—Å–æ–∫ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
    tags: conlist(str, min_length=1, max_length=10)

user = ConstrainedTypes(
    username="valid_user_123",
    age=25,
    rating=4.5,
    tags=["python", "pydantic"]
)

# –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (—Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—á–∞—Ç–∏)
from pydantic import SecretStr, SecretBytes

class Credentials(BaseModel):
    username: str
    password: SecretStr
    api_key: SecretStr

creds = Credentials(
    username="admin",
    password="super_secret_password",
    api_key="sk-1234567890"
)

print(creds)  # password –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ **********
print(creds.password.get_secret_value())  # –î–æ—Å—Ç—É–ø –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é

# –¶–≤–µ—Ç
from pydantic import field_validator

class Design(BaseModel):
    primary_color: str
    
    @field_validator('primary_color')
    @classmethod
    def validate_hex_color(cls, v):
        if not v.startswith('#') or len(v) != 7:
            raise ValueError('–¶–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ #RRGGBB')
        return v

design = Design(primary_color="#FF5733")</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>UUID4 - –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤</li>
                        <li>EmailStr - –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ email –∞–¥—Ä–µ—Å–æ–≤</li>
                        <li>HttpUrl - –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ URL</li>
                        <li>SecretStr - –¥–ª—è –ø–∞—Ä–æ–ª–µ–π –∏ API –∫–ª—é—á–µ–π</li>
                        <li>constr/conint/confloat - –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π</li>
                    </ul>
                </div>
            </section>


            <section id="section-23" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-yellow-400">23. –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º</h2>
                <p class="text-gray-300 mb-4">
                    Pydantic –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–æ—â–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏, –≤—Ä–µ–º–µ–Ω–µ–º –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∑–æ–Ω–∞–º–∏.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, Field, field_validator
from datetime import date, datetime, time, timedelta
from typing import Optional

class Event(BaseModel):
    name: str
    event_date: date  # –¢–æ–ª—å–∫–æ –¥–∞—Ç–∞
    event_time: time  # –¢–æ–ª—å–∫–æ –≤—Ä–µ–º—è
    event_datetime: datetime  # –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
    duration: timedelta  # –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
    
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –∏–∑ —Å—Ç—Ä–æ–∫
event = Event(
    name="Python Conference",
    event_date="2024-06-15",
    event_time="10:30:00",
    event_datetime="2024-06-15T10:30:00",
    duration="2:30:00"  # 2 —á–∞—Å–∞ 30 –º–∏–Ω—É—Ç
)

print(event.event_date)  # 2024-06-15
print(event.duration)  # 2:30:00

# –†–∞–±–æ—Ç–∞ —Å timezone
from datetime import timezone
import zoneinfo

class TimezoneEvent(BaseModel):
    name: str
    starts_at: datetime
    
    @field_validator('starts_at', mode='before')
    @classmethod
    def ensure_timezone(cls, v):
        if isinstance(v, datetime) and v.tzinfo is None:
            # –î–æ–±–∞–≤–ª—è–µ–º UTC –µ—Å–ª–∏ –Ω–µ—Ç timezone
            return v.replace(tzinfo=timezone.utc)
        return v

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç –ø—Ä–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
class FormattedDates(BaseModel):
    created_at: datetime
    
    def model_dump(self, **kwargs):
        data = super().model_dump(**kwargs)
        # –ö–∞—Å—Ç–æ–º–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
        data['created_at'] = self.created_at.strftime('%d.%m.%Y %H:%M')
        return data

obj = FormattedDates(created_at=datetime.now())
print(obj.model_dump())  # –î–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ DD.MM.YYYY HH:MM

# –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –¥–∞—Ç
class DateRange(BaseModel):
    start_date: date
    end_date: date
    
    @field_validator('end_date')
    @classmethod
    def validate_end_after_start(cls, v, info):
        start = info.data.get('start_date')
        if start and v < start:
            raise ValueError('–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞')
        return v

date_range = DateRange(
    start_date="2024-01-01",
    end_date="2024-12-31"
)</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–†–∞–±–æ—Ç–∞ —Å —Å–æ–±—ã—Ç–∏—è–º–∏ –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è–º–∏</li>
                        <li>–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
                        <li>–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –¥–∞—Ç</li>
                        <li>–†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∑–æ–Ω–∞–º–∏</li>
                    </ul>
                </div>
            </section>

            <section id="section-24" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-yellow-400">24. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ—à–∏–±–∫–∏</h2>
                <p class="text-gray-300 mb-4">
                    –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –∏ –ø–æ–Ω—è—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, field_validator, ValidationError

class UserRegistration(BaseModel):
    username: str
    email: str
    password: str
    
    @field_validator('username')
    @classmethod
    def validate_username(cls, v):
        if len(v) < 3:
            raise ValueError(
                '–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ. '
                '–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞: 3 —Å–∏–º–≤–æ–ª–∞. '
                f'–¢–µ–∫—É—â–∞—è –¥–ª–∏–Ω–∞: {len(v)}'
            )
        if not v.isalnum():
            raise ValueError(
                '–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ '
                '–±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã, –±–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤'
            )
        return v

try:
    user = UserRegistration(
        username="ab!",
        email="test@example.com",
        password="password123"
    )
except ValidationError as e:
    for error in e.errors():
        print(f"‚ùå {error['loc'][0]}: {error['msg']}")

# –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫
from pydantic import PydanticCustomError

class StrictUser(BaseModel):
    age: int
    
    @field_validator('age')
    @classmethod
    def validate_age(cls, v):
        if v < 18:
            raise PydanticCustomError(
                'age_too_low',
                '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–º (18+)',
                {'min_age': 18, 'provided': v}
            )
        return v

# –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
class PaymentData(BaseModel):
    amount: float
    currency: str
    
    @field_validator('amount')
    @classmethod
    def validate_amount(cls, v):
        errors = []
        if v <= 0:
            errors.append('–°—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π')
        if v > 1000000:
            errors.append('–°—É–º–º–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç (1,000,000)')
        if v != round(v, 2):
            errors.append('–ú–∞–∫—Å–∏–º—É–º 2 –∑–Ω–∞–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π')
        
        if errors:
            raise ValueError('; '.join(errors))
        return v

# –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫
class LocalizedErrors(BaseModel):
    name: str
    
    @field_validator('name')
    @classmethod
    def validate_name(cls, v, info):
        lang = info.context.get('lang', 'en') if info.context else 'en'
        
        messages = {
            'en': 'Name must be at least 2 characters',
            'ru': '–ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 2 —Å–∏–º–≤–æ–ª–æ–≤',
            'de': 'Name muss mindestens 2 Zeichen lang sein'
        }
        
        if len(v) < 2:
            raise ValueError(messages.get(lang, messages['en']))
        return v

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —è–∑—ã–∫–∞
try:
    LocalizedErrors.model_validate(
        {'name': 'A'},
        context={'lang': 'ru'}
    )
except ValidationError as e:
    print(e.errors()[0]['msg'])  # –ù–∞ —Ä—É—Å—Å–∫–æ–º</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
                        <li>–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –Ω–∞ —Ä–∞–∑–Ω—ã–µ —è–∑—ã–∫–∏</li>
                        <li>–î–µ—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏</li>
                        <li>–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ –æ–¥–Ω–æ–º –ø–æ–ª–µ</li>
                    </ul>
                </div>
            </section>

            <section id="section-25" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-yellow-400">25. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö</h2>
                <p class="text-gray-300 mb-4">
                    –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Pydantic –º–æ–¥–µ–ª–µ–π —Å ORM –∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, ConfigDict
from typing import Optional
from datetime import datetime

# –ú–æ–¥–µ–ª—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è (–±–µ–∑ id)
class UserCreate(BaseModel):
    username: str
    email: str
    full_name: Optional[str] = None

# –ú–æ–¥–µ–ª—å –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–≤—Å–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
class UserUpdate(BaseModel):
    username: Optional[str] = None
    email: Optional[str] = None
    full_name: Optional[str] = None

# –ú–æ–¥–µ–ª—å –¥–ª—è —á—Ç–µ–Ω–∏—è (—Å id –∏ timestamps)
class UserRead(BaseModel):
    id: int
    username: str
    email: str
    full_name: Optional[str] = None
    created_at: datetime
    updated_at: datetime
    
    model_config = ConfigDict(from_attributes=True)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ with SQLAlchemy
"""
from sqlalchemy import Column, Integer, String, DateTime
from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()

class UserDB(Base):
    __tablename__ = 'users'
    
    id = Column(Integer, primary_key=True)
    username = Column(String)
    email = Column(String)
    full_name = Column(String, nullable=True)
    created_at = Column(DateTime, default=datetime.now)
    updated_at = Column(DateTime, default=datetime.now, onupdate=datetime.now)

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
def create_user(db, user_data: UserCreate) -> UserRead:
    db_user = UserDB(**user_data.model_dump())
    db.add(db_user)
    db.commit()
    db.refresh(db_user)
    
    # from_attributes=True –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∏–∑ ORM –æ–±—ä–µ–∫—Ç–∞
    return UserRead.model_validate(db_user)

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
def update_user(db, user_id: int, user_data: UserUpdate) -> UserRead:
    db_user = db.query(UserDB).filter(UserDB.id == user_id).first()
    
    # –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—è
    update_data = user_data.model_dump(exclude_unset=True)
    for field, value in update_data.items():
        setattr(db_user, field, value)
    
    db.commit()
    db.refresh(db_user)
    return UserRead.model_validate(db_user)
"""

# –ü–∞—Ç—Ç–µ—Ä–Ω DTO (Data Transfer Object)
class BaseDTO(BaseModel):
    model_config = ConfigDict(
        from_attributes=True,
        validate_assignment=True
    )

class ProductDTO(BaseDTO):
    id: int
    name: str
    price: float
    stock: int
    
    @property
    def is_available(self) -> bool:
        return self.stock > 0

# Bulk –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
def bulk_create_products(products_data: list[dict]) -> list[ProductDTO]:
    validated_products = []
    for data in products_data:
        try:
            product = ProductDTO(**data)
            validated_products.append(product)
        except ValidationError as e:
            print(f"–û—à–∏–±–∫–∞ –≤ –ø—Ä–æ–¥—É–∫—Ç–µ {data.get('name')}: {e}")
    return validated_products</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –ë–î</li>
                        <li>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –¥–ª—è Create/Update/Read</li>
                        <li>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ ORM –æ–±—ä–µ–∫—Ç–æ–≤ –≤ API responses</li>
                        <li>–ß–∞—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å exclude_unset</li>
                    </ul>
                </div>
            </section>

            <section id="section-26" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-yellow-400">26. –£—Å–ª–æ–≤–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è</h2>
                <p class="text-gray-300 mb-4">
                    –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏–π –¥—Ä—É–≥–∏—Ö –ø–æ–ª–µ–π –∏–ª–∏ –≤–Ω–µ—à–Ω–∏—Ö —É—Å–ª–æ–≤–∏–π.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, model_validator, field_validator
from typing import Optional

class ShippingAddress(BaseModel):
    country: str
    city: str
    postal_code: Optional[str] = None
    state: Optional[str] = None
    
    @model_validator(mode='after')
    def validate_address(self):
        # –î–ª—è –°–®–ê —Ç—Ä–µ–±—É–µ—Ç—Å—è state
        if self.country == 'USA' and not self.state:
            raise ValueError('–î–ª—è –°–®–ê –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑–∞—Ç—å —à—Ç–∞—Ç')
        
        # –î–ª—è –†–æ—Å—Å–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è postal_code
        if self.country == 'Russia' and not self.postal_code:
            raise ValueError('–î–ª—è –†–æ—Å—Å–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑–∞—Ç—å –∏–Ω–¥–µ–∫—Å')
        
        return self

# –°–®–ê - —Ç—Ä–µ–±—É–µ—Ç—Å—è —à—Ç–∞—Ç
usa_address = ShippingAddress(
    country='USA',
    city='New York',
    state='NY',
    postal_code='10001'
)

# –£—Å–ª–æ–≤–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è payment
class PaymentMethod(BaseModel):
    method: str  # card, bank_transfer, cash
    card_number: Optional[str] = None
    bank_account: Optional[str] = None
    
    @model_validator(mode='after')
    def validate_payment_details(self):
        if self.method == 'card' and not self.card_number:
            raise ValueError('–î–ª—è –æ–ø–ª–∞—Ç—ã –∫–∞—Ä—Ç–æ–π —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã')
        
        if self.method == 'bank_transfer' and not self.bank_account:
            raise ValueError('–î–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞')
        
        if self.method == 'cash':
            # –î–ª—è –Ω–∞–ª–∏—á–Ω—ã—Ö –Ω–µ –Ω—É–∂–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            self.card_number = None
            self.bank_account = None
        
        return self

payment = PaymentMethod(
    method='card',
    card_number='4111-1111-1111-1111'
)

# –£—Å–ª–æ–≤–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–∏
class UserPermissions(BaseModel):
    role: str  # admin, moderator, user
    can_delete: bool = False
    can_edit: bool = False
    can_view: bool = True
    
    @model_validator(mode='after')
    def set_permissions(self):
        if self.role == 'admin':
            self.can_delete = True
            self.can_edit = True
            self.can_view = True
        elif self.role == 'moderator':
            self.can_delete = False
            self.can_edit = True
            self.can_view = True
        elif self.role == 'user':
            self.can_delete = False
            self.can_edit = False
            self.can_view = True
        
        return self

admin = UserPermissions(role='admin')
print(f"Admin can delete: {admin.can_delete}")  # True

# –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
class DynamicConfig(BaseModel):
    environment: str  # development, production
    debug: bool = True
    secret_key: Optional[str] = None
    
    @model_validator(mode='after')
    def validate_environment(self):
        if self.environment == 'production':
            if self.debug:
                raise ValueError('Debug –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å False –≤ production')
            if not self.secret_key:
                raise ValueError('Secret key –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –≤ production')
        
        return self

# Production —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
prod_config = DynamicConfig(
    environment='production',
    debug=False,
    secret_key='super-secret-key-123'
)</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ç—Ä–∞–Ω—ã/—Ä–µ–≥–∏–æ–Ω–∞</li>
                        <li>–†–∞–∑–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ (payment methods)</li>
                        <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–∏</li>
                        <li>–†–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è dev/staging/production</li>
                    </ul>
                </div>
            </section>

            <section id="section-27" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-yellow-400">27. –ú–∏–≥—Ä–∞—Ü–∏—è –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π</h2>
                <p class="text-gray-300 mb-4">
                    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, Field, field_validator
from typing import Optional, Union

# –í–µ—Ä—Å–∏—è 1 - —Å—Ç–∞—Ä–∞—è –º–æ–¥–µ–ª—å
class UserV1(BaseModel):
    name: str
    email: str
    age: int

# –í–µ—Ä—Å–∏—è 2 - –Ω–æ–≤–∞—è –º–æ–¥–µ–ª—å (—Ä–∞–∑–¥–µ–ª–∏–ª–∏ name)
class UserV2(BaseModel):
    first_name: str
    last_name: str
    email: str
    age: int
    phone: Optional[str] = None  # –ù–æ–≤–æ–µ –ø–æ–ª–µ
    
    @classmethod
    def from_v1(cls, v1: UserV1):
        """–ú–∏–≥—Ä–∞—Ü–∏—è –∏–∑ V1 –≤ V2"""
        parts = v1.name.split(' ', 1)
        return cls(
            first_name=parts[0],
            last_name=parts[1] if len(parts) > 1 else '',
            email=v1.email,
            age=v1.age
        )

# –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
old_user = UserV1(name="–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤", email="ivan@example.com", age=30)
new_user = UserV2.from_v1(old_user)
print(new_user.first_name, new_user.last_name)

# –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
def parse_user(data: dict) -> Union[UserV1, UserV2]:
    """–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏"""
    if 'first_name' in data:
        return UserV2(**data)
    else:
        return UserV1(**data)

# Backward compatibility - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ø–æ–ª–µ–π
class BackwardCompatibleUser(BaseModel):
    first_name: str
    last_name: str
    email: str
    
    # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ –ø–æ–ª—è 'name'
    @field_validator('first_name', mode='before')
    @classmethod
    def split_name_if_needed(cls, v, info):
        # –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω 'name' –≤–º–µ—Å—Ç–æ first_name
        data = info.data
        if isinstance(data, dict) and 'name' in data and 'first_name' not in data:
            parts = data['name'].split(' ', 1)
            return parts[0]
        return v

# Deprecated –ø–æ–ª—è —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏
import warnings

class UserWithDeprecated(BaseModel):
    username: str
    email: str
    old_field: Optional[str] = Field(None, deprecated=True)
    
    @field_validator('old_field')
    @classmethod
    def warn_deprecated(cls, v):
        if v is not None:
            warnings.warn(
                '–ü–æ–ª–µ old_field —É—Å—Ç–∞—Ä–µ–ª–æ –∏ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ –≤ –≤–µ—Ä—Å–∏–∏ 3.0',
                DeprecationWarning
            )
        return v

# –°—Ö–µ–º–∞ –º–∏–≥—Ä–∞—Ü–∏–π
class MigrationSchema:
    @staticmethod
    def migrate_v1_to_v2(data: dict) -> dict:
        """–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ V1 –≤ V2"""
        if 'name' in data:
            parts = data['name'].split(' ', 1)
            data['first_name'] = parts[0]
            data['last_name'] = parts[1] if len(parts) > 1 else ''
            del data['name']
        return data
    
    @staticmethod
    def migrate_v2_to_v3(data: dict) -> dict:
        """–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ V2 –≤ V3"""
        # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
        data.setdefault('phone', None)
        data.setdefault('country', 'Unknown')
        return data
    
    @classmethod
    def migrate_to_latest(cls, data: dict, from_version: int) -> dict:
        """–ú–∏–≥—Ä–∞—Ü–∏—è –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏"""
        migrations = {
            1: cls.migrate_v1_to_v2,
            2: cls.migrate_v2_to_v3,
        }
        
        current_version = from_version
        while current_version in migrations:
            data = migrations[current_version](data)
            current_version += 1
        
        return data

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
old_data = {'name': '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤', 'email': 'ivan@example.com', 'age': 30}
migrated = MigrationSchema.migrate_to_latest(old_data, from_version=1)
print(migrated)</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>API –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (v1, v2, v3)</li>
                        <li>–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ breaking changes</li>
                        <li>–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç–∞—Ä—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤</li>
                        <li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏</li>
                    </ul>
                </div>
            </section>
            <section id="section-28" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-purple-400">28. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h2>
                <p class="text-gray-300 mb-4">
                    –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Pydantic –º–æ–¥–µ–ª–µ–π –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, ConfigDict, Field
from typing import List
import time

# –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
class CachedModel(BaseModel):
    model_config = ConfigDict(
        # –ó–∞–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
        cache_schema=True
    )
    
    id: int
    name: str
    data: dict

# model_rebuild() - –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å—Ö–µ–º—ã –º–æ–¥–µ–ª–∏
class DynamicModel(BaseModel):
    field1: str

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ (–≤ runtime)
# –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
DynamicModel.model_rebuild()

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
class FastModel(BaseModel):
    id: int
    name: str
    value: float

# –û–±—ã—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
start = time.time()
for i in range(10000):
    obj = FastModel(id=i, name=f"item_{i}", value=float(i))
normal_time = time.time() - start

# –°–æ–∑–¥–∞–Ω–∏–µ –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ!)
start = time.time()
for i in range(10000):
    obj = FastModel.model_construct(
        id=i,
        name=f"item_{i}",
        value=float(i)
    )
fast_time = time.time() - start

print(f"–° –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π: {normal_time:.3f}s")
print(f"–ë–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {fast_time:.3f}s")
print(f"–£—Å–∫–æ—Ä–µ–Ω–∏–µ: {normal_time/fast_time:.1f}x")

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
class OptimizedModel(BaseModel):
    model_config = ConfigDict(
        # –û—Ç–∫–ª—é—á–∏—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        # –ë—ã—Å—Ç—Ä–µ–µ, –Ω–æ –º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ
        validate_default=False,
    )
    
    items: List[str] = Field(default_factory=list)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ __pydantic_self__ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –¥–∞–Ω–Ω—ã–º
class InternalAccess(BaseModel):
    name: str
    _cache: dict = {}
    
    def get_cached(self, key: str):
        # –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –ø–æ–ª—è–º
        return self._cache.get(key)

# –ë–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
def process_batch(items: List[dict]) -> List[FastModel]:
    # –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–∞—Ç—á–∞–º–∏
    return [FastModel(**item) for item in items]

# –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã
schema = FastModel.model_json_schema()
# –°—Ö–µ–º–∞ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞

# –õ–µ–Ω–∏–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
class LazyModel(BaseModel):
    model_config = ConfigDict(
        # –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ
        validate_assignment=False
    )
    
    data: str

# –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
from pydantic import BaseModel

class ProfiledModel(BaseModel):
    field1: str
    field2: int
    field3: float
    field4: List[str]

# –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–∑–¥–∞–Ω–∏—è
import timeit

data = {
    "field1": "test",
    "field2": 42,
    "field3": 3.14,
    "field4": ["a", "b", "c"]
}

creation_time = timeit.timeit(
    lambda: ProfiledModel(**data),
    number=10000
)

print(f"–í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è 10000 —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤: {creation_time:.3f}s")</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>model_construct() - –¥–ª—è –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏</li>
                        <li>cache_schema=True - –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –º–æ–¥–µ–ª–µ–π</li>
                        <li>validate_assignment=False - –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π</li>
                        <li>–ë–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ - –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö</li>
                    </ul>
                </div>
            </section>

            <section id="section-29" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-purple-400">29. –†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –≤–∞–ª–∏–¥–∞—Ü–∏–∏</h2>
                <p class="text-gray-300 mb-4">
                    –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–æ–¥–µ–ª–∏.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, field_validator, ValidationInfo, model_validator

class Document(BaseModel):
    title: str
    content: str
    access_level: int
    
    @field_validator('content')
    @classmethod
    def validate_content(cls, v, info: ValidationInfo):
        # –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
        context = info.context
        if context is None:
            return v
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
        user_level = context.get('user_access_level', 0)
        required_level = info.data.get('access_level', 0)
        
        if user_level < required_level:
            raise ValueError(
                f'–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤. –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Ä–æ–≤–µ–Ω—å {required_level}'
            )
        
        # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞
        mode = context.get('mode', 'full')
        if mode == 'preview':
            return v[:100] + '...' if len(v) > 100 else v
        
        return v

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
admin_context = {
    'user_access_level': 10,
    'mode': 'full'
}

doc = Document.model_validate(
    {
        'title': '–°–µ–∫—Ä–µ—Ç–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç',
        'content': '–≠—Ç–æ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è...',
        'access_level': 5
    },
    context=admin_context
)

# –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
user_context = {
    'user_access_level': 3,
    'mode': 'preview'
}

try:
    doc2 = Document.model_validate(
        {
            'title': '–°–µ–∫—Ä–µ—Ç–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç',
            'content': '–≠—Ç–æ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è...',
            'access_level': 5
        },
        context=user_context
    )
except ValidationError as e:
    print("–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω")

# –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —É—Å–ª–æ–≤–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
class PaymentData(BaseModel):
    amount: float
    currency: str
    card_number: str
    
    @model_validator(mode='after')
    def validate_payment(self):
        # –ü–æ–ª—É—á–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ ValidationInfo
        return self
    
    @field_validator('amount')
    @classmethod
    def validate_amount(cls, v, info: ValidationInfo):
        context = info.context or {}
        
        # –õ–∏–º–∏—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–∏–ø–∞ –∞–∫–∫–∞—É–Ω—Ç–∞
        account_type = context.get('account_type', 'basic')
        
        limits = {
            'basic': 1000,
            'premium': 10000,
            'business': 100000
        }
        
        max_amount = limits.get(account_type, 1000)
        
        if v > max_amount:
            raise ValueError(
                f'–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –¥–ª—è {account_type}: {max_amount}'
            )
        
        return v

# –†–∞–∑–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
basic_payment = PaymentData.model_validate(
    {
        'amount': 500,
        'currency': 'RUB',
        'card_number': '1234-5678-9012-3456'
    },
    context={'account_type': 'basic'}
)

business_payment = PaymentData.model_validate(
    {
        'amount': 50000,
        'currency': 'RUB',
        'card_number': '1234-5678-9012-3456'
    },
    context={'account_type': 'business'}
)

# –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
class Feature(BaseModel):
    name: str
    enabled: bool
    
    @field_validator('enabled')
    @classmethod
    def check_feature_flag(cls, v, info: ValidationInfo):
        context = info.context or {}
        feature_flags = context.get('feature_flags', {})
        feature_name = info.data.get('name')
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ feature flag
        if feature_name in feature_flags:
            return feature_flags[feature_name]
        
        return v

# –î–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ä–∞–∑–Ω—ã–µ —Ñ–∏—á–∏
user_a_features = Feature.model_validate(
    {'name': 'new_ui', 'enabled': False},
    context={'feature_flags': {'new_ui': True}}
)

user_b_features = Feature.model_validate(
    {'name': 'new_ui', 'enabled': False},
    context={'feature_flags': {'new_ui': False}}
)

print(f"User A new_ui: {user_a_features.enabled}")  # True
print(f"User B new_ui: {user_b_features.enabled}")  # False</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–í–∞–ª–∏–¥–∞—Ü–∏—è —Å —É—á–µ—Ç–æ–º –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
                        <li>–£—Å–ª–æ–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö (—Ä–µ–∂–∏–º—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)</li>
                        <li>A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ feature flags</li>
                        <li>–ü–µ—Ä–µ–¥–∞—á–∞ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã</li>
                    </ul>
                </div>
            </section>

            <section id="section-30" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-purple-400">30. –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö</h2>
                <p class="text-gray-300 mb-4">
                    –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ Annotated –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, field_validator, ValidationError
from typing import Annotated, Any
from pydantic.functional_validators import AfterValidator, BeforeValidator

# –ö–∞—Å—Ç–æ–º–Ω—ã–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä —Å AfterValidator
def validate_even(v: int) -> int:
    if v % 2 != 0:
        raise ValueError('–ß–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–µ—Ç–Ω—ã–º')
    return v

EvenInt = Annotated[int, AfterValidator(validate_even)]

# –ö–∞—Å—Ç–æ–º–Ω—ã–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä —Å BeforeValidator
def parse_phone(v: Any) -> str:
    # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
    if isinstance(v, str):
        # –£–¥–∞–ª—è–µ–º –≤—Å–µ –∫—Ä–æ–º–µ —Ü–∏—Ñ—Ä
        digits = ''.join(c for c in v if c.isdigit())
        if len(digits) == 11:
            return f"+{digits[0]} ({digits[1:4]}) {digits[4:7]}-{digits[7:9]}-{digits[9:11]}"
        elif len(digits) == 10:
            return f"+7 ({digits[0:3]}) {digits[3:6]}-{digits[6:8]}-{digits[8:10]}"
    raise ValueError('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞')

PhoneNumber = Annotated[str, BeforeValidator(parse_phone)]

class UserContact(BaseModel):
    name: str
    age: EvenInt  # –¢–æ–ª—å–∫–æ —á–µ—Ç–Ω—ã–µ —á–∏—Å–ª–∞
    phone: PhoneNumber

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
try:
    user1 = UserContact(
        name="–ò–≤–∞–Ω",
        age=30,  # OK - —á–µ—Ç–Ω–æ–µ
        phone="89991234567"
    )
    print(user1.phone)  # +7 (999) 123-45-67
except ValidationError as e:
    print(e)

try:
    user2 = UserContact(
        name="–ü–µ—Ç—Ä",
        age=31,  # –û—à–∏–±–∫–∞ - –Ω–µ—á–µ—Ç–Ω–æ–µ
        phone="89991234567"
    )
except ValidationError as e:
    print("–í–æ–∑—Ä–∞—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–µ—Ç–Ω—ã–º")

# –°–ª–æ–∂–Ω—ã–π –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ç–∏–ø
def validate_password_strength(v: str) -> str:
    if len(v) < 8:
        raise ValueError('–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤')
    if not any(c.isupper() for c in v):
        raise ValueError('–ù—É–∂–Ω–∞ –º–∏–Ω–∏–º—É–º –æ–¥–Ω–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞')
    if not any(c.islower() for c in v):
        raise ValueError('–ù—É–∂–Ω–∞ –º–∏–Ω–∏–º—É–º –æ–¥–Ω–∞ —Å—Ç—Ä–æ—á–Ω–∞—è –±—É–∫–≤–∞')
    if not any(c.isdigit() for c in v):
        raise ValueError('–ù—É–∂–Ω–∞ –º–∏–Ω–∏–º—É–º –æ–¥–Ω–∞ —Ü–∏—Ñ—Ä–∞')
    return v

StrongPassword = Annotated[str, AfterValidator(validate_password_strength)]

# –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ç–∏–ø –¥–ª—è Email –¥–æ–º–µ–Ω–∞
def validate_company_email(v: str) -> str:
    if not v.endswith('@company.com'):
        raise ValueError('Email –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –¥–æ–º–µ–Ω–µ @company.com')
    return v.lower()

CompanyEmail = Annotated[str, AfterValidator(validate_company_email)]

class Employee(BaseModel):
    name: str
    email: CompanyEmail
    password: StrongPassword

emp = Employee(
    name="–ê–Ω–Ω–∞",
    email="Anna@Company.Com",
    password="SecurePass123"
)
print(emp.email)  # anna@company.com

# –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤
def strip_whitespace(v: Any) -> str:
    return v.strip() if isinstance(v, str) else str(v)

def to_uppercase(v: str) -> str:
    return v.upper()

UppercaseStr = Annotated[
    str,
    BeforeValidator(strip_whitespace),
    AfterValidator(to_uppercase)
]

class Product(BaseModel):
    code: UppercaseStr

product = Product(code="  abc123  ")
print(product.code)  # ABC123

# –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ç–∏–ø
from typing import TypeVar

T = TypeVar('T')

def create_range_validator(min_val, max_val):
    def validate_range(v):
        if not min_val <= v <= max_val:
            raise ValueError(f'–ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ–∂–¥—É {min_val} –∏ {max_val}')
        return v
    return validate_range

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
Percentage = Annotated[float, AfterValidator(create_range_validator(0, 100))]
Rating = Annotated[float, AfterValidator(create_range_validator(0, 5))]

class Review(BaseModel):
    rating: Rating
    confidence: Percentage

review = Review(rating=4.5, confidence=95.0)

try:
    invalid_review = Review(rating=6.0, confidence=150.0)
except ValidationError as e:
    print("–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –ø—Ä–æ—à–ª–∞")</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤</li>
                        <li>–î–æ–º–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã (PhoneNumber, Email, Password)</li>
                        <li>–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º</li>
                        <li>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤</li>
                    </ul>
                </div>
            </section>

            <section id="section-31" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-purple-400">31. –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–æ–¥–µ–ª–µ–π (JSON Schema)</h2>
                <p class="text-gray-300 mb-4">
                    –≠–∫—Å–ø–æ—Ä—Ç Pydantic –º–æ–¥–µ–ª–µ–π –≤ JSON Schema –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, Field
from typing import List, Optional
import json

class Address(BaseModel):
    street: str = Field(description="–ù–∞–∑–≤–∞–Ω–∏–µ —É–ª–∏—Ü—ã")
    city: str = Field(description="–ì–æ—Ä–æ–¥")
    postal_code: str = Field(
        description="–ü–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å",
        pattern=r'^\d{6}$'
    )

class User(BaseModel):
    """–ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–∏—Å—Ç–µ–º—ã"""
    
    id: int = Field(description="–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä", examples=[1, 2, 3])
    username: str = Field(
        min_length=3,
        max_length=50,
        description="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
        examples=["john_doe", "jane_smith"]
    )
    email: str = Field(
        description="Email –∞–¥—Ä–µ—Å",
        examples=["user@example.com"]
    )
    age: Optional[int] = Field(
        None,
        ge=18,
        le=120,
        description="–í–æ–∑—Ä–∞—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
    )
    tags: List[str] = Field(
        default_factory=list,
        description="–¢–µ–≥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
        examples=[["python", "developer"]]
    )
    address: Optional[Address] = Field(
        None,
        description="–ê–¥—Ä–µ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
    )

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JSON Schema
schema = User.model_json_schema()
print(json.dumps(schema, indent=2, ensure_ascii=False))

# –†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
# - type, properties, required
# - descriptions –¥–ª—è –ø–æ–ª–µ–π
# - constraints (minLength, maximum, etc)
# - examples
# - nested schemas –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ FastAPI (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
"""
from fastapi import FastAPI

app = FastAPI()

@app.post("/users/")
def create_user(user: User):
    # FastAPI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
    # –∏–∑ Pydantic –º–æ–¥–µ–ª–µ–π
    return user

# Swagger UI –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:
# - –í—Å–µ –ø–æ–ª—è –º–æ–¥–µ–ª–∏
# - –û–ø–∏—Å–∞–Ω–∏—è
# - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
# - –ü—Ä–∏–º–µ—Ä—ã
"""

# –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è JSON Schema
class Product(BaseModel):
    model_config = {
        'json_schema_extra': {
            'examples': [
                {
                    'id': 1,
                    'name': '–ù–æ—É—Ç–±—É–∫',
                    'price': 75000.0,
                    'in_stock': True
                }
            ]
        }
    }
    
    id: int
    name: str
    price: float = Field(gt=0)
    in_stock: bool = True

product_schema = Product.model_json_schema()

# –°—Ö–µ–º–∞ –¥–ª—è multiple –º–æ–¥–µ–ª–µ–π
from pydantic import BaseModel

class CreateUserRequest(BaseModel):
    username: str
    email: str
    password: str

class UserResponse(BaseModel):
    id: int
    username: str
    email: str
    created_at: str

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ö–µ–º—ã –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
def generate_api_schema():
    return {
        'CreateUserRequest': CreateUserRequest.model_json_schema(),
        'UserResponse': UserResponse.model_json_schema(),
    }

# –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å—Ö–µ–º–µ –∏–∑ –¥—Ä—É–≥–æ–π —Å–∏—Å—Ç–µ–º—ã
import jsonschema

def validate_with_schema(data: dict):
    schema = User.model_json_schema()
    try:
        jsonschema.validate(instance=data, schema=schema)
        return True
    except jsonschema.exceptions.ValidationError:
        return False

# –≠–∫—Å–ø–æ—Ä—Ç —Å—Ö–µ–º—ã –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
def export_schemas_for_frontend():
    """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏–ª–∏ —Å—Ö–µ–º –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞"""
    schemas = {
        'User': User.model_json_schema(),
        'Address': Address.model_json_schema(),
        'Product': Product.model_json_schema(),
    }
    
    with open('api_schemas.json', 'w', encoding='utf-8') as f:
        json.dump(schemas, f, indent=2, ensure_ascii=False)

# –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API
class UserV1(BaseModel):
    name: str
    email: str

class UserV2(BaseModel):
    first_name: str
    last_name: str
    email: str
    phone: Optional[str] = None

schemas_by_version = {
    'v1': UserV1.model_json_schema(),
    'v2': UserV2.model_json_schema(),
}</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏</li>
                        <li>OpenAPI/Swagger —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏</li>
                        <li>–≠–∫—Å–ø–æ—Ä—Ç —Å—Ö–µ–º –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (TypeScript)</li>
                        <li>–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏</li>
                        <li>–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API —Å—Ö–µ–º</li>
                    </ul>
                </div>
            </section>

            <section id="section-32" class="bg-slate-800 rounded-lg p-6 shadow-xl">
                <h2 class="text-3xl font-bold mb-4 text-purple-400">32. –†–∞–±–æ—Ç–∞ —Å None –∑–Ω–∞—á–µ–Ω–∏—è–º–∏</h2>
                <p class="text-gray-300 mb-4">
                    –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ None, Optional –∏ nullable –ø–æ–ª–µ–π –≤ Pydantic.
                </p>
                <div class="code-block relative mb-4">
                    <button onclick="copyCode(this)" class="copy-btn absolute top-2 right-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <pre><code class="language-python">from pydantic import BaseModel, Field
from typing import Optional, Union

class UserProfile(BaseModel):
    # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ (–Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å None)
    username: str
    
    # Optional - –º–æ–∂–µ—Ç –±—ã—Ç—å None
    middle_name: Optional[str] = None
    
    # Optional —Å default –∑–Ω–∞—á–µ–Ω–∏–µ–º (–Ω–µ None)
    bio: Optional[str] = "–ù–µ —É–∫–∞–∑–∞–Ω–æ"
    
    # –ü–æ–ª–µ –º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å
    age: Optional[int] = None
    
    # Union —Å None (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å)
    phone: Union[str, None] = None

# –°–æ–∑–¥–∞–Ω–∏–µ —Å None –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
profile1 = UserProfile(username="john_doe")
print(profile1.middle_name)  # None
print(profile1.bio)  # "–ù–µ —É–∫–∞–∑–∞–Ω–æ"

profile2 = UserProfile(
    username="jane_doe",
    middle_name="Anne",
    bio=None,  # –Ø–≤–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º None
    age=25
)
print(profile2.bio)  # None (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ)

# –†–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É None –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
class Article(BaseModel):
    title: str
    subtitle: Optional[str] = None
    description: Optional[str] = Field(None)

# –ü—Ä–æ–≤–µ—Ä–∫–∞, –±—ã–ª–æ –ª–∏ –ø–æ–ª–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
article1 = Article(title="Test")
article2 = Article(title="Test", subtitle=None)

# –û–±–∞ —Å–ª—É—á–∞—è –¥–∞—é—Ç None, –Ω–æ:
# - article1.subtitle –Ω–µ –±—ã–ª –ø–µ—Ä–µ–¥–∞–Ω
# - article2.subtitle –±—ã–ª —è–≤–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ None

# exclude_none –ø—Ä–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
print(article1.model_dump(exclude_none=True))
# {'title': 'Test'}

print(article2.model_dump(exclude_none=True))
# {'title': 'Test'}

# exclude_unset - –∏—Å–∫–ª—é—á–∏—Ç—å –Ω–µ–ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—è
print(article1.model_dump(exclude_unset=True))
# {'title': 'Test'}

print(article2.model_dump(exclude_unset=True))
# {'title': 'Test', 'subtitle': None}

# –í–∞–ª–∏–¥–∞—Ü–∏—è None –∑–Ω–∞—á–µ–Ω–∏–π
class Settings(BaseModel):
    api_key: Optional[str] = None
    timeout: Optional[int] = Field(None, ge=0)
    
    @field_validator('api_key')
    @classmethod
    def validate_api_key(cls, v):
        if v is not None and len(v) < 10:
            raise ValueError('API –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤')
        return v

# None –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é
settings1 = Settings()  # OK
settings2 = Settings(api_key=None)  # OK
settings3 = Settings(api_key="valid_key_123")  # OK

try:
    settings4 = Settings(api_key="short")  # –û—à–∏–±–∫–∞
except ValidationError as e:
    print("API –∫–ª—é—á —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π")

# –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å None
from typing import List

class Group(BaseModel):
    name: str
    # –ü—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –≤–º–µ—Å—Ç–æ None
    members: List[str] = Field(default_factory=list)
    # None –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω
    description: Optional[str] = None
    # –î–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    is_public: bool = True

group = Group(name="Python Developers")
print(group.members)  # []
print(group.description)  # None

# –û–±—Ä–∞–±–æ—Ç–∫–∞ null –∏–∑ JSON
import json

json_data = '{"username": "test", "age": null}'
profile = UserProfile.model_validate_json(json_data)
print(profile.age)  # None

# Nullable –≤ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
class DatabaseModel(BaseModel):
    id: int
    value: Optional[str] = None
    
    model_config = {
        'json_schema_extra': {
            'examples': [
                {'id': 1, 'value': 'test'},
                {'id': 2, 'value': None}
            ]
        }
    }

# JSON Schema –±—É–¥–µ—Ç –≤–∫–ª—é—á–∞—Ç—å null –∫–∞–∫ –¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ç–∏–ø
schema = DatabaseModel.model_json_schema()
print(schema['properties']['value'])
# {'anyOf': [{'type': 'string'}, {'type': 'null'}]}

# –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —á–∞—Å—Ç–∏—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
class UserUpdate(BaseModel):
    username: Optional[str] = None
    email: Optional[str] = None
    age: Optional[int] = None

def update_user(user_id: int, update: UserUpdate):
    # –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—è
    update_data = update.model_dump(exclude_unset=True)
    # update_data —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω—ã
    return update_data

# –¢–æ–ª—å–∫–æ username –±—É–¥–µ—Ç –≤ update_data
update = UserUpdate(username="new_name")
data = update.model_dump(exclude_unset=True)
print(data)  # {'username': 'new_name'}

# –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ None –¥–ª—è —Å–±—Ä–æ—Å–∞ –∑–Ω–∞—á–µ–Ω–∏—è
update2 = UserUpdate(email=None)
data2 = update2.model_dump(exclude_unset=True)
print(data2)  # {'email': None}</code></pre>
                </div>
                <div class="bg-slate-900 rounded p-4 mt-4">
                    <h3 class="font-semibold text-green-400 mb-2">üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>Optional[T] - –¥–ª—è –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å None</li>
                        <li>exclude_none=True - —Å–∫—Ä—ã—Ç—å None –≤ API responses</li>
                        <li>exclude_unset=True - –¥–ª—è PATCH –∑–∞–ø—Ä–æ—Å–æ–≤ (partial updates)</li>
                        <li>–Ø–≤–Ω—ã–π None - –¥–ª—è —Å–±—Ä–æ—Å–∞ –∑–Ω–∞—á–µ–Ω–∏–π –≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö</li>
                    </ul>
                </div>
            </section>
            </main>
        </div>

        <footer class="mt-16 text-center text-gray-500 pb-8">
            <p class="text-sm">
                PyDantic –®–ø–∞—Ä–≥–∞–ª–∫–∞ | –°–æ–∑–¥–∞–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ Python
            </p>
            <p class="text-xs mt-2">
                –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å Pydantic v2.x
            </p>
        </footer>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è highlight.js
        hljs.highlightAll();

        // –§—É–Ω–∫—Ü–∏—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
        function copyCode(button) {
            const codeBlock = button.nextElementSibling;
            const code = codeBlock.querySelector('code').textContent;
            
            navigator.clipboard.writeText(code).then(() => {
                const originalText = button.textContent;
                button.textContent = '‚úì –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ';
                button.classList.add('bg-green-600');
                button.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('bg-green-600');
                    button.classList.add('bg-blue-600', 'hover:bg-blue-700');
                }, 2000);
            }).catch(err => {
                console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', err);
                button.textContent = '‚úó –û—à–∏–±–∫–∞';
            });
        }

        // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —è–∫–æ—Ä—è–º
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –≤ –æ–≥–ª–∞–≤–ª–µ–Ω–∏–∏
        const observerOptions = {
            root: null,
            rootMargin: '-20% 0px -70% 0px',
            threshold: 0
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.getAttribute('id');
                    document.querySelectorAll('#toc a').forEach(link => {
                        link.classList.remove('text-blue-400', 'font-bold');
                        link.classList.add('text-gray-400');
                    });
                    const activeLink = document.querySelector(`#toc a[href="#${id}"]`);
                    if (activeLink) {
                        activeLink.classList.remove('text-gray-400');
                        activeLink.classList.add('text-blue-400', 'font-bold');
                    }
                }
            });
        }, observerOptions);

        document.querySelectorAll('section[id^="section-"]').forEach(section => {
            observer.observe(section);
        });
    </script>
</body>
</html>
